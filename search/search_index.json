{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"OpenStackLDV \u00b6 OpenStackLDV es el servicio de infraestructura como servicio (IaaS) del Departamento de Inform\u00e1tica de IES Leonardo Da Vinci de Madrid. Su objetivo es servir de apoyo en la docencia de los ciclos formativos de Formaci\u00f3n Profesional impartidos en el instituto. El despliegue de esta infraestructura ha sido posible gracias al proyecto \" Computaci\u00f3n en la nube: de la empresa al aula \" desarrollado junto a la empresa FLOSSystems y gracias al apoyo de la Fundaci\u00f3n Bankia por la Formaci\u00f3n Dual , de la Asociaci\u00f3n FPempresa y de la Comunidad de Madrid . Inicio Cloud computing y computaci\u00f3n distribuida \u00bfQu\u00e9 es un IaaS? OpenStack Servicios ofrecidos por OpenStackLDV Recursos de OpenStackLDV Acceso a panel web (Horizon) de OpenStackLDV Primeros pasos en OpenStackLDV Conceptos Actividades 10.1. Horizon A01-Im\u00e1genes p\u00fablicas A02-Redes y routers A03-Crear instancias A04-IPs Flotantes y Grupos de Seguridad A05-Claves SSH A06-Acciones b\u00e1sicas con instancias A07-Snapshots de instancias A08-Redimensi\u00f3n, reconstruci\u00f3n y archivado de instancias A09-Vol\u00famenes A10-Borrado de componentes A11-Servidor Web A12-CloudInit 10.2.OSC (Openstack Client) A00-Instalaci\u00f3n y configuraci\u00f3n inicial A01-Im\u00e1genes p\u00fablicas-OSC A02-Redes y routers-OSC A03-Crear instancias-OSC A04-IPs Flotantes y Grupos de Seguridad-OSC A05-Claves SSH-OSC A06-Acciones b\u00e1sicas con instancias-OSC A07-Snapshots de instancias-OSC A08-Redimensi\u00f3n, reconstruci\u00f3n y archivado de instancias-OSC A09-Vol\u00famenes-OSC A10-Borrado de componentes-OSC A11-Servidor Web-OSC A12-CloudInit-OSC A11-Servidor Web-OSC A12-CloudInit-OSC","title":"1. Inicio"},{"location":"#openstackldv","text":"OpenStackLDV es el servicio de infraestructura como servicio (IaaS) del Departamento de Inform\u00e1tica de IES Leonardo Da Vinci de Madrid. Su objetivo es servir de apoyo en la docencia de los ciclos formativos de Formaci\u00f3n Profesional impartidos en el instituto. El despliegue de esta infraestructura ha sido posible gracias al proyecto \" Computaci\u00f3n en la nube: de la empresa al aula \" desarrollado junto a la empresa FLOSSystems y gracias al apoyo de la Fundaci\u00f3n Bankia por la Formaci\u00f3n Dual , de la Asociaci\u00f3n FPempresa y de la Comunidad de Madrid . Inicio Cloud computing y computaci\u00f3n distribuida \u00bfQu\u00e9 es un IaaS? OpenStack Servicios ofrecidos por OpenStackLDV Recursos de OpenStackLDV Acceso a panel web (Horizon) de OpenStackLDV Primeros pasos en OpenStackLDV Conceptos Actividades 10.1. Horizon A01-Im\u00e1genes p\u00fablicas A02-Redes y routers A03-Crear instancias A04-IPs Flotantes y Grupos de Seguridad A05-Claves SSH A06-Acciones b\u00e1sicas con instancias A07-Snapshots de instancias A08-Redimensi\u00f3n, reconstruci\u00f3n y archivado de instancias A09-Vol\u00famenes A10-Borrado de componentes A11-Servidor Web A12-CloudInit 10.2.OSC (Openstack Client) A00-Instalaci\u00f3n y configuraci\u00f3n inicial A01-Im\u00e1genes p\u00fablicas-OSC A02-Redes y routers-OSC A03-Crear instancias-OSC A04-IPs Flotantes y Grupos de Seguridad-OSC A05-Claves SSH-OSC A06-Acciones b\u00e1sicas con instancias-OSC A07-Snapshots de instancias-OSC A08-Redimensi\u00f3n, reconstruci\u00f3n y archivado de instancias-OSC A09-Vol\u00famenes-OSC A10-Borrado de componentes-OSC A11-Servidor Web-OSC A12-CloudInit-OSC A11-Servidor Web-OSC A12-CloudInit-OSC","title":"OpenStackLDV"},{"location":"licencia/","text":"Esta obra est\u00e1 bajo una Licencia Creative Commons Atribuci\u00f3n-CompartirIgual 4.0 Internacional \u00c1lvaro Garc\u00eda (alvaro.garcia2@educa.madrid.org)","title":"Licencia"},{"location":"02-Cloud/Cloud/","text":"Cloud computing y computaci\u00f3n distribuida \u00b6 Cloud Computing \u00b6 \u00bfQu\u00e9 es cloud computing ? \u00b6 Cloud Computing es un paradigma o modelo que permite ofrecer servicios de computaci\u00f3n bajo demanda a trav\u00e9s de una red. El objetivo es utilizar la tecnolog\u00eda para implantar infraestructuras \u201cinvisibles\u201d que permitan convertir recursos como computaci\u00f3n, almacenamiento, redes, aplicaciones, etc. en un servicio donde se pague por su uso sin que sean necesarias inversiones iniciales. Permite a las organizaciones externalizar parte de su c\u00f3mputo y de su almacenamiento a un proveedor que t\u00edpicamente ofrece un modelo de pago por uso, o crear nubes privadas ( on-premise ) para tener las ventajas de las tecnolog\u00edas cloud dentro de una organizaci\u00f3n, sin necesidad de depender de un proveedor p\u00fablico. \u00bfQu\u00e9 es un cloud? \u00b6 La nube ( cloud ) es por lo tanto una met\u00e1fora que engloba recursos virtuales y f\u00edsicos alojados y ofrecidos por un determinado proveedor (Cloud de Google, Cloud de Amazon, Cloud de Microsoft, ....) o de forma privada. Cada proveedor ofrece su servicios con un modelo de pago por uso (tiempo de uso de CPU, uso de almacenamiento, tr\u00e1fico de red, etc..) siendo el objetivo principal ajustar el consumo de recursos a las necesidades de las aplicaciones y usuarios de forma din\u00e1mica, el\u00e1stica y r\u00e1pida adaptando el consumo a la demanda. En el modelo tradicional las inversiones en hardware se quedan obsoletas en poco tiempo y la demanda de recursos de c\u00f3mputo puede ser muy variable. Si hay un sobre-dimensionamiento parte de los recursos no son utilizados y es necesaria una inversi\u00f3n de hardware para determinados intervalos de tiempo, y con un sub-dimensionamiento si hay picos de carga que no se pueden atender, no se ofrece el servicio de forma adecuada. Caracter\u00edsticas de un cloud \u00b6 La Computaci\u00f3n en Nube es un modelo para permitir el acceso ubicuo, conveniente y bajo demanda mediante red a un conjunto compartido de recursos de c\u00f3mputo configurables (redes, servidores, almacenamiento, aplicaciones y servicios) que pueden ser r\u00e1pidamente aprovisionados y liberados con m\u00ednimo esfuerzo de gesti\u00f3n o interacci\u00f3n con el proveedor del servicio NIST Definition . Servicio disponible de forma autom\u00e1tica y bajo demanda ( On-demand self-service ) Un usuario puede comenzar a utilizar un recurso (almacenamiento, aplicaci\u00f3n, m\u00e1quina virtual, etc.) sin necesidad interactuar con operador de la empresa que ofrece el servicio cloud . Accesible a trav\u00e9s de red ( Broad network access ) Acceso a los servicios a trav\u00e9s de una red usando distintos tipos de clientes (PC, port\u00e1til, m\u00f3vil, tableta, ...) Los recursos se agrupan en pools ( Resource pooling ) El proveedor del cloud ofrece recursos (capacidad de computo, almacenamiento, ancho de banda, ...) a los usuarios. Los recursos se agrupan en pools y son ofrecidos seg\u00fan un modelo multi-tenant . Diferentes recursos reales y virtuales son asignados y reasignados a los clientes bajo demanda. Cada usuario/cliente se denomina \u201ctenant\u201d . Los recursos son \u201cvirtualizados\u201d, cada recurso real es utilizado concurrentemente por varios \u201ctenant\u201d . Se debe garantizar separaci\u00f3n, aislamiento, seguridad y privacidad. Elasticidad ( Rapid elasticity ) Asignar/desasignar recursos r\u00e1pidamente (preferiblemente de forma autom\u00e1tica) seg\u00fan las necesidades del usuario. Adaptaci\u00f3n de los recursos usados frente a demandas cambiantes. Aprovisionamiento frente a solicitudes de demanda din\u00e1micas: \"recursos ilimitados\". Escalado vertical ( scale up/scale down ) Escalado horizontal ( scale out/scale in ) Servicio medido ( Measured Service ) El uso de los recursos por parte de los usuarios se puede medir facilitando su control y optimizaci\u00f3n. Pago por uso de recursos en entornos comerciales. Modelo de despliegue (tipos de cloud ) \u00b6 Existen tres modelos a la hora de desplegar un cloud : Cloud p\u00fablico Servicio abierto al p\u00fablico ofrecido por un proveedor. Recursos hardware propiedad del proveedor. Gesti\u00f3n del cloud por parte del proveedor. Suscripci\u00f3n del usuarios en el proveedor (el tiempo que quieras). Pago por uso (usuarios, empresas, organizaciones, etc.). Cloud privado Uso exclusivo de una organizaci\u00f3n y/o m\u00faltiples usuarios. Gesti\u00f3n del cloud por la propia organizaci\u00f3n. Puede delegarse la gesti\u00f3n y operaci\u00f3n a una compa\u00f1\u00eda especializada. Recursos hardware propios. Cloud h\u00edbrido Dos o m\u00e1s infraestructuras de cloud distintas que aparecen como entidad \u00fanica. Combinan ambos modelos de cloud (privado o p\u00fablico). Por ejemplo, se delega temporalmente en un cloud p\u00fablico cuando se excede la capacidad de c\u00f3mputo de un cloud privado. Modelo de servicios \u00b6 El campo de cloud computing es muy amplio y es posible realizar varias clasificaciones y diferenciar entre m\u00faltiples tipos de cloud con diversidad de matices, pero la clasificaci\u00f3n m\u00e1s gen\u00e9rica y extendida es la que se propone a continuaci\u00f3n. Software as a service (SaaS) Orientado a usuarios. Aplicaciones ejecutando sobre una infraestructura cloud son ofrecidas como servicio. Los usuarios pagan por el uso, no por poseer el software (ni siquiera licencias) Ejemplos: Dropbox, Google Drive, Evernote, Office 365, ... Platform as a service (PaaS) Orientado a desarrolladores. Plataforma de software y entornos de desarrollo y pruebas ofrecidos como servicio. Abstrae hardware y servicios. Permite el despliegue y ejecuci\u00f3n de aplicaciones. Servicio para todas las fases de desarrollo y pruebas de software. Ejemplos Proveedores de PaaS p\u00fablicos: OpenShitft, Heroku, Google App Engine, Microsoft Azure, Amazon Web Services, Force.com, Jelastic \u2026 Software para desplegar PaaS: OpenShitft Origin, , Cloudfoundry, Dokku, Tsuru, Apache Stratos, ... Infrastructure as a service (IaaS) Orientado a administradores. Capacidades de c\u00f3mputo, almacenamiento y red (m\u00e1quinas/hardware) ofrecidas como servicio. Se ofrecen m\u00e1quinas virtuales. Ejemplos Proveedores de Iaas: Amazon Web Services, RackSpace, Google Compute Engine, Microsoft Azure Service Plataform, HP Cloud, GoGrid, \u2026 Software para desplegar IaaS: OpenStack, OpenNebula, Cloudstack, Eucalyptus, Vmware vCloud, ... Cloud Service Models (IaaS, PaaS, SaaS) Diagram De hecho, la tendencia es ofrecer cada vez m\u00e1s cualquier tipo de recurso como un servicio y se suele hablar del t\u00e9rmino: XaaS (Anything as a Service) . Presentaci\u00f3n \u00b6 En la siguiente presentaci\u00f3n es posible ampliar informacion: OpenStackLDV-Introducci\u00f3n al Cloud Computing Computaci\u00f3n distribuida \u00b6 La computaci\u00f3n distriuida es el arte de construir grandes sistemas divididos en muchas m\u00e1quinas que proveen un servicio. Cientos o miles de m\u00e1quinas pueden estar implicadas y servir a millones de usuarios. Contrasta con sistemas limitados donde un solo servidor ejecuta un \u00fanico servicio al que los clientes acceden simult\u00e1neamente. La computaci\u00f3n distribuida es hoy d\u00eda ubicua y hace posibles (fiables, escalables y r\u00e1pidos) los servicios que usamos a diario. Popularmente se la conoce como cloud o cloud computing . Ha transformado completamente el sector. Los fallos son algo asumido por dise\u00f1o (hay miles de m\u00e1quinas). Sistemas antifr\u00e1giles (no solo resisten sino que mejoran con los fallos). Sistemas distribuidos, sin puntos \u00fanicos de fallo (SPoF). Se ofrecen los recursos en pools, de forma el\u00e1stica (posteriormente se explica este concepto) y encapsulada,como si fuesen infinito. La informaci\u00f3n anterior es una extracto de la presentaci\u00f3n OpenStackLDV-Computaci\u00f3n distribuida , realizada por Flossystems , que contiene informaci\u00f3n muy \u00fatil e interesante sobre construir infraestucturas IT en producci\u00f3n, el cambio de paradigma que se esta produciendo, principos DevOS, Automatizaci\u00f3n,etc.","title":"2. Cloud computing y computaci\u00f3n distribuida"},{"location":"02-Cloud/Cloud/#cloud-computing-y-computacion-distribuida","text":"","title":"Cloud computing y computaci\u00f3n distribuida"},{"location":"02-Cloud/Cloud/#cloud-computing","text":"","title":"Cloud Computing"},{"location":"02-Cloud/Cloud/#que-es-cloud-computing","text":"Cloud Computing es un paradigma o modelo que permite ofrecer servicios de computaci\u00f3n bajo demanda a trav\u00e9s de una red. El objetivo es utilizar la tecnolog\u00eda para implantar infraestructuras \u201cinvisibles\u201d que permitan convertir recursos como computaci\u00f3n, almacenamiento, redes, aplicaciones, etc. en un servicio donde se pague por su uso sin que sean necesarias inversiones iniciales. Permite a las organizaciones externalizar parte de su c\u00f3mputo y de su almacenamiento a un proveedor que t\u00edpicamente ofrece un modelo de pago por uso, o crear nubes privadas ( on-premise ) para tener las ventajas de las tecnolog\u00edas cloud dentro de una organizaci\u00f3n, sin necesidad de depender de un proveedor p\u00fablico.","title":"\u00bfQu\u00e9 es cloud computing?"},{"location":"02-Cloud/Cloud/#que-es-un-cloud","text":"La nube ( cloud ) es por lo tanto una met\u00e1fora que engloba recursos virtuales y f\u00edsicos alojados y ofrecidos por un determinado proveedor (Cloud de Google, Cloud de Amazon, Cloud de Microsoft, ....) o de forma privada. Cada proveedor ofrece su servicios con un modelo de pago por uso (tiempo de uso de CPU, uso de almacenamiento, tr\u00e1fico de red, etc..) siendo el objetivo principal ajustar el consumo de recursos a las necesidades de las aplicaciones y usuarios de forma din\u00e1mica, el\u00e1stica y r\u00e1pida adaptando el consumo a la demanda. En el modelo tradicional las inversiones en hardware se quedan obsoletas en poco tiempo y la demanda de recursos de c\u00f3mputo puede ser muy variable. Si hay un sobre-dimensionamiento parte de los recursos no son utilizados y es necesaria una inversi\u00f3n de hardware para determinados intervalos de tiempo, y con un sub-dimensionamiento si hay picos de carga que no se pueden atender, no se ofrece el servicio de forma adecuada.","title":"\u00bfQu\u00e9 es un cloud?"},{"location":"02-Cloud/Cloud/#caracteristicas-de-un-cloud","text":"La Computaci\u00f3n en Nube es un modelo para permitir el acceso ubicuo, conveniente y bajo demanda mediante red a un conjunto compartido de recursos de c\u00f3mputo configurables (redes, servidores, almacenamiento, aplicaciones y servicios) que pueden ser r\u00e1pidamente aprovisionados y liberados con m\u00ednimo esfuerzo de gesti\u00f3n o interacci\u00f3n con el proveedor del servicio NIST Definition . Servicio disponible de forma autom\u00e1tica y bajo demanda ( On-demand self-service ) Un usuario puede comenzar a utilizar un recurso (almacenamiento, aplicaci\u00f3n, m\u00e1quina virtual, etc.) sin necesidad interactuar con operador de la empresa que ofrece el servicio cloud . Accesible a trav\u00e9s de red ( Broad network access ) Acceso a los servicios a trav\u00e9s de una red usando distintos tipos de clientes (PC, port\u00e1til, m\u00f3vil, tableta, ...) Los recursos se agrupan en pools ( Resource pooling ) El proveedor del cloud ofrece recursos (capacidad de computo, almacenamiento, ancho de banda, ...) a los usuarios. Los recursos se agrupan en pools y son ofrecidos seg\u00fan un modelo multi-tenant . Diferentes recursos reales y virtuales son asignados y reasignados a los clientes bajo demanda. Cada usuario/cliente se denomina \u201ctenant\u201d . Los recursos son \u201cvirtualizados\u201d, cada recurso real es utilizado concurrentemente por varios \u201ctenant\u201d . Se debe garantizar separaci\u00f3n, aislamiento, seguridad y privacidad. Elasticidad ( Rapid elasticity ) Asignar/desasignar recursos r\u00e1pidamente (preferiblemente de forma autom\u00e1tica) seg\u00fan las necesidades del usuario. Adaptaci\u00f3n de los recursos usados frente a demandas cambiantes. Aprovisionamiento frente a solicitudes de demanda din\u00e1micas: \"recursos ilimitados\". Escalado vertical ( scale up/scale down ) Escalado horizontal ( scale out/scale in ) Servicio medido ( Measured Service ) El uso de los recursos por parte de los usuarios se puede medir facilitando su control y optimizaci\u00f3n. Pago por uso de recursos en entornos comerciales.","title":"Caracter\u00edsticas de un cloud"},{"location":"02-Cloud/Cloud/#modelo-de-despliegue-tipos-de-cloud","text":"Existen tres modelos a la hora de desplegar un cloud : Cloud p\u00fablico Servicio abierto al p\u00fablico ofrecido por un proveedor. Recursos hardware propiedad del proveedor. Gesti\u00f3n del cloud por parte del proveedor. Suscripci\u00f3n del usuarios en el proveedor (el tiempo que quieras). Pago por uso (usuarios, empresas, organizaciones, etc.). Cloud privado Uso exclusivo de una organizaci\u00f3n y/o m\u00faltiples usuarios. Gesti\u00f3n del cloud por la propia organizaci\u00f3n. Puede delegarse la gesti\u00f3n y operaci\u00f3n a una compa\u00f1\u00eda especializada. Recursos hardware propios. Cloud h\u00edbrido Dos o m\u00e1s infraestructuras de cloud distintas que aparecen como entidad \u00fanica. Combinan ambos modelos de cloud (privado o p\u00fablico). Por ejemplo, se delega temporalmente en un cloud p\u00fablico cuando se excede la capacidad de c\u00f3mputo de un cloud privado.","title":"Modelo de despliegue (tipos de cloud)"},{"location":"02-Cloud/Cloud/#modelo-de-servicios","text":"El campo de cloud computing es muy amplio y es posible realizar varias clasificaciones y diferenciar entre m\u00faltiples tipos de cloud con diversidad de matices, pero la clasificaci\u00f3n m\u00e1s gen\u00e9rica y extendida es la que se propone a continuaci\u00f3n. Software as a service (SaaS) Orientado a usuarios. Aplicaciones ejecutando sobre una infraestructura cloud son ofrecidas como servicio. Los usuarios pagan por el uso, no por poseer el software (ni siquiera licencias) Ejemplos: Dropbox, Google Drive, Evernote, Office 365, ... Platform as a service (PaaS) Orientado a desarrolladores. Plataforma de software y entornos de desarrollo y pruebas ofrecidos como servicio. Abstrae hardware y servicios. Permite el despliegue y ejecuci\u00f3n de aplicaciones. Servicio para todas las fases de desarrollo y pruebas de software. Ejemplos Proveedores de PaaS p\u00fablicos: OpenShitft, Heroku, Google App Engine, Microsoft Azure, Amazon Web Services, Force.com, Jelastic \u2026 Software para desplegar PaaS: OpenShitft Origin, , Cloudfoundry, Dokku, Tsuru, Apache Stratos, ... Infrastructure as a service (IaaS) Orientado a administradores. Capacidades de c\u00f3mputo, almacenamiento y red (m\u00e1quinas/hardware) ofrecidas como servicio. Se ofrecen m\u00e1quinas virtuales. Ejemplos Proveedores de Iaas: Amazon Web Services, RackSpace, Google Compute Engine, Microsoft Azure Service Plataform, HP Cloud, GoGrid, \u2026 Software para desplegar IaaS: OpenStack, OpenNebula, Cloudstack, Eucalyptus, Vmware vCloud, ... Cloud Service Models (IaaS, PaaS, SaaS) Diagram De hecho, la tendencia es ofrecer cada vez m\u00e1s cualquier tipo de recurso como un servicio y se suele hablar del t\u00e9rmino: XaaS (Anything as a Service) .","title":"Modelo de servicios"},{"location":"02-Cloud/Cloud/#presentacion","text":"En la siguiente presentaci\u00f3n es posible ampliar informacion: OpenStackLDV-Introducci\u00f3n al Cloud Computing","title":"Presentaci\u00f3n"},{"location":"02-Cloud/Cloud/#computacion-distribuida","text":"La computaci\u00f3n distriuida es el arte de construir grandes sistemas divididos en muchas m\u00e1quinas que proveen un servicio. Cientos o miles de m\u00e1quinas pueden estar implicadas y servir a millones de usuarios. Contrasta con sistemas limitados donde un solo servidor ejecuta un \u00fanico servicio al que los clientes acceden simult\u00e1neamente. La computaci\u00f3n distribuida es hoy d\u00eda ubicua y hace posibles (fiables, escalables y r\u00e1pidos) los servicios que usamos a diario. Popularmente se la conoce como cloud o cloud computing . Ha transformado completamente el sector. Los fallos son algo asumido por dise\u00f1o (hay miles de m\u00e1quinas). Sistemas antifr\u00e1giles (no solo resisten sino que mejoran con los fallos). Sistemas distribuidos, sin puntos \u00fanicos de fallo (SPoF). Se ofrecen los recursos en pools, de forma el\u00e1stica (posteriormente se explica este concepto) y encapsulada,como si fuesen infinito. La informaci\u00f3n anterior es una extracto de la presentaci\u00f3n OpenStackLDV-Computaci\u00f3n distribuida , realizada por Flossystems , que contiene informaci\u00f3n muy \u00fatil e interesante sobre construir infraestucturas IT en producci\u00f3n, el cambio de paradigma que se esta produciendo, principos DevOS, Automatizaci\u00f3n,etc.","title":"Computaci\u00f3n distribuida"},{"location":"03-IaaS/IaaS/","text":"\u00bfQu\u00e9 es un IaaS? \u00b6 Un IaaS ( Infrastructure as a service ) es una infraestructura IT, una \"nube\", que ofrece un servicio (capacidades de computo, almacenamiento y redes -m\u00e1quinas virtuales-) con las car\u00e1ctesticas que se han explicado en el apartado anterior. Servicio disponible de forma autom\u00e1tica y bajo demanda ( On-demand self-service ) Un usuario puede comenzar a utilizar un recurso (almacenamiento, aplicaci\u00f3n, m\u00e1quina virtual, etc.) sin necesidad interactuar con operador de la empresa que ofrece el servicio cloud . Accesible a trav\u00e9s de red ( Broad network access ) Acceso a los servicios a trav\u00e9s de una red usando distintos tipos de clientes (PC, port\u00e1til, m\u00f3vil, tableta, ...) Los recursos se agrupan en pools ( Resource pooling ) El proveedor del cloud ofrece recursos (capacidad de computo, almacenamiento, ancho de banda, ...) a los usuarios. Los recursos se agrupan en pools y son ofrecidos seg\u00fan un modelo multi-tenant . Diferentes recursos reales y virtuales son asignados y reasignados a los clientes bajo demanda. Cada usuario/cliente se denomina \u201ctenant\u201d . Los recursos son \u201cvirtualizados\u201d, cada recurso real es utilizado concurrentemente por varios \u201ctenant\u201d . Se debe garantizar separaci\u00f3n, aislamiento, seguridad y privacidad. Elasticidad ( Rapid elasticity ) Asignar/desasignar recursos r\u00e1pidamente (preferiblemente de forma autom\u00e1tica) seg\u00fan las necesidades del usuario. Adaptaci\u00f3n de los recursos usados frente a demandas cambiantes. Aprovisionamiento frente a solicitudes de demanda din\u00e1micas: \"recursos ilimitados\". Escalado vertical ( scale up/scale down ) Escalado horizontal ( scale out/scale in ) Servicio medido ( Measured Service ) El uso de los recursos por parte de los usuarios se puede medir facilitando su control y optimizaci\u00f3n. Pago por uso de recursos en entornos comerciales. El alojamiento, la administraci\u00f3n y el mantenimiento del hardware que la sustenta recaen completamente en manos del proveedor del servicio. Puedes consultar los siguientes enlaces para m\u00e1s informaci\u00f3n. \u00bfQu\u00e9 es una Iaas? Tipos de infraestructura","title":"3. \u00bfQu\u00e9 es un IaaS?"},{"location":"03-IaaS/IaaS/#que-es-un-iaas","text":"Un IaaS ( Infrastructure as a service ) es una infraestructura IT, una \"nube\", que ofrece un servicio (capacidades de computo, almacenamiento y redes -m\u00e1quinas virtuales-) con las car\u00e1ctesticas que se han explicado en el apartado anterior. Servicio disponible de forma autom\u00e1tica y bajo demanda ( On-demand self-service ) Un usuario puede comenzar a utilizar un recurso (almacenamiento, aplicaci\u00f3n, m\u00e1quina virtual, etc.) sin necesidad interactuar con operador de la empresa que ofrece el servicio cloud . Accesible a trav\u00e9s de red ( Broad network access ) Acceso a los servicios a trav\u00e9s de una red usando distintos tipos de clientes (PC, port\u00e1til, m\u00f3vil, tableta, ...) Los recursos se agrupan en pools ( Resource pooling ) El proveedor del cloud ofrece recursos (capacidad de computo, almacenamiento, ancho de banda, ...) a los usuarios. Los recursos se agrupan en pools y son ofrecidos seg\u00fan un modelo multi-tenant . Diferentes recursos reales y virtuales son asignados y reasignados a los clientes bajo demanda. Cada usuario/cliente se denomina \u201ctenant\u201d . Los recursos son \u201cvirtualizados\u201d, cada recurso real es utilizado concurrentemente por varios \u201ctenant\u201d . Se debe garantizar separaci\u00f3n, aislamiento, seguridad y privacidad. Elasticidad ( Rapid elasticity ) Asignar/desasignar recursos r\u00e1pidamente (preferiblemente de forma autom\u00e1tica) seg\u00fan las necesidades del usuario. Adaptaci\u00f3n de los recursos usados frente a demandas cambiantes. Aprovisionamiento frente a solicitudes de demanda din\u00e1micas: \"recursos ilimitados\". Escalado vertical ( scale up/scale down ) Escalado horizontal ( scale out/scale in ) Servicio medido ( Measured Service ) El uso de los recursos por parte de los usuarios se puede medir facilitando su control y optimizaci\u00f3n. Pago por uso de recursos en entornos comerciales. El alojamiento, la administraci\u00f3n y el mantenimiento del hardware que la sustenta recaen completamente en manos del proveedor del servicio. Puedes consultar los siguientes enlaces para m\u00e1s informaci\u00f3n. \u00bfQu\u00e9 es una Iaas? Tipos de infraestructura","title":"\u00bfQu\u00e9 es un IaaS?"},{"location":"04-OpenStack/OpenStack/","text":"OpenStack \u00b6 OpenStack https://www.openstack.org/software/ es un framework para construir Infraestructuras como Servicio (IaaS) a trav\u00e9s de un conjunto de servicios combinados. Proporciona servicios de computaci\u00f3n, red y almacenamiento. Sin cajas negras, adaptable, con infinidad de backends y configuraciones de red diferentes. En la inmensa flexibilidad y en la orquestaci\u00f3n de componentes heterog\u00e9neos reside su potencia. APIs y c\u00f3digo \u201cas a service\u201d: requiere mentalidad DevOps. En la siguiente presentaci\u00f3n OpenStackLDV-Introducci\u00f3n , realizada por Flossystems , puedes consultar informaci\u00f3n muy completa sobre el proyecto OpenStack.","title":"4. OpenStack"},{"location":"04-OpenStack/OpenStack/#openstack","text":"OpenStack https://www.openstack.org/software/ es un framework para construir Infraestructuras como Servicio (IaaS) a trav\u00e9s de un conjunto de servicios combinados. Proporciona servicios de computaci\u00f3n, red y almacenamiento. Sin cajas negras, adaptable, con infinidad de backends y configuraciones de red diferentes. En la inmensa flexibilidad y en la orquestaci\u00f3n de componentes heterog\u00e9neos reside su potencia. APIs y c\u00f3digo \u201cas a service\u201d: requiere mentalidad DevOps. En la siguiente presentaci\u00f3n OpenStackLDV-Introducci\u00f3n , realizada por Flossystems , puedes consultar informaci\u00f3n muy completa sobre el proyecto OpenStack.","title":"OpenStack"},{"location":"05-Servicios/Servicios/","text":"Servicios ofrecidos por OpenStackLDV \u00b6 En la actualidad OpenStackLDV esta desplegado con la versi\u00f3n 2018.2 (Rocky) y ofrece los siguientes servicios. Servicios de computaci\u00f3n para crear m\u00e1quinas virtuales ( instancias en terminolog\u00eda de OpenStack). Servicios de almacenamiento para crear vol\u00famenes . Servicios de red para crear routers y redes virtuales . Servicios de orquestaci\u00f3n basados en plantillas para crear de forma autom\u00e1tizada instancias, v\u00f3lumenes, redes, ... Es posible acceder y usar los servicios del cloud usando el cliente web Horizon ( dashboard ) o empleando herramientas en l\u00ednea de comandos ( CLI ).","title":"5. Servicios ofrecidos por OpenStackLDV"},{"location":"05-Servicios/Servicios/#servicios-ofrecidos-por-openstackldv","text":"En la actualidad OpenStackLDV esta desplegado con la versi\u00f3n 2018.2 (Rocky) y ofrece los siguientes servicios. Servicios de computaci\u00f3n para crear m\u00e1quinas virtuales ( instancias en terminolog\u00eda de OpenStack). Servicios de almacenamiento para crear vol\u00famenes . Servicios de red para crear routers y redes virtuales . Servicios de orquestaci\u00f3n basados en plantillas para crear de forma autom\u00e1tizada instancias, v\u00f3lumenes, redes, ... Es posible acceder y usar los servicios del cloud usando el cliente web Horizon ( dashboard ) o empleando herramientas en l\u00ednea de comandos ( CLI ).","title":"Servicios ofrecidos por OpenStackLDV"},{"location":"06-Recursos/Recursos/","text":"Recursos de OpenStackLDV \u00b6 Servidores de c\u00f3mputo: 2 RAM disponible: 256 GB N\u00facleos: 32 Espacio disponible para im\u00e1genes: 1 TB Espacio disponible para instancias: 1,2 TB Almacenamiento disponible para vol\u00famenes: 1,2 TB","title":"6. Recursos de OpenStackLDV"},{"location":"06-Recursos/Recursos/#recursos-de-openstackldv","text":"Servidores de c\u00f3mputo: 2 RAM disponible: 256 GB N\u00facleos: 32 Espacio disponible para im\u00e1genes: 1 TB Espacio disponible para instancias: 1,2 TB Almacenamiento disponible para vol\u00famenes: 1,2 TB","title":"Recursos de OpenStackLDV"},{"location":"07-Acceso/Acceso/","text":"Acceso al panel web (Horizon) de OpenStackLDV \u00b6 El acceso a los servicios de OpenStackLDV solo est\u00e1 disponible desde la red del Departamento de Inform\u00e1tica del IES Leonardo Da Vinci por lo tanto deb\u00e9s estar en el instituto o establecer una conexi\u00f3n VPN a trav\u00e9s del servicio VPNLDV . Para poder acceder al panel web de Horizon hay dos opciones disponibles: http://openstack.informaticaldv.com http://192.168.211.11","title":"7. Acceso a panel web (Horizon) de OpenStackLDV"},{"location":"07-Acceso/Acceso/#acceso-al-panel-web-horizon-de-openstackldv","text":"El acceso a los servicios de OpenStackLDV solo est\u00e1 disponible desde la red del Departamento de Inform\u00e1tica del IES Leonardo Da Vinci por lo tanto deb\u00e9s estar en el instituto o establecer una conexi\u00f3n VPN a trav\u00e9s del servicio VPNLDV . Para poder acceder al panel web de Horizon hay dos opciones disponibles: http://openstack.informaticaldv.com http://192.168.211.11","title":"Acceso al panel web (Horizon) de OpenStackLDV"},{"location":"08-PrimerosPasos/PrimerosPasos/","text":"Primeros pasos en OpenStackLDV \u00b6 Solicitud de cuenta de usuario y proyecto \u00b6 Para poder acceder a los servicios de OpenStackLDV tienes que disponer de una cuenta de usuario con acceso a un proyecto ( tenant ). Cada usuario ( user ) dispone de una cuenta y puede ser miembro de uno o varios proyectos. Un proyecto (o tenant ) es una arupaci\u00f3n de recursos del cloud (n\u00facleos de procesador -VCPU-, RAM o espacio de almacenamiento) disponible para uno o m\u00e1s usuarios. Los recursos disponibles se definen a trav\u00e9s de quotas . Pueden crearse proyectos para un usuario, un departamento, una organizaci\u00f3n, ... Por convenci\u00f3n, cuando un proyecto contienen a un solo usuario se suele denominar igual que el usuario. En OpenstackLDV de forma predeterminada cada usuario pertenece a un proyecto con su mismo nombre pero puede ser miembro de m\u00e1s de un proyecto (p.e. 2ASIR-SRI, 2ASIR-SAD, Profesores, ...) Las operaciones que un usuario puede realizar sobre un proyecto quedan determinadas por un rol ( role ) (conjunto de permisos que establecen qu\u00e9 operaciones puede realizar un usuario en un proyecto dado). Solicita tu usuario y contrase\u00f1a de acceso a tus profesores. Acceso a Horizon \u00b6 Una vez que dispongas de tu nombre de usuario y contrase\u00f1a puedes iniciar sesi\u00f3n en el panel web de Horizon, hay dos opciones disponibles: http://openstack.informaticaldv.com http://192.168.211.11 Una vez iniciada la sesi\u00f3n podr\u00e1s ver los recursos disponibles (Computaci\u00f3n, Almacenamiento y Red) en tu/s proyecto/s. En la parte superior derecha ver\u00e1s tu nombre de usuario y en la parte superior derecha el nombre del proyecto activo y un desplegable con los proyectos a los que puedes acceder. Cambio de contrase\u00f1a \u00b6 La primera vez que inicies sesi\u00f3n deber\u00edas cambiar tu contrase\u00f1a. Lo puedes hacer en la parte superior derecha, pinchando en el nombre de usuario con la opci\u00f3n Settings, Change Password . Tema \u00b6 Puedes cambiar el tema del panel web de Horizon pinchando en el nombre de usuario con la opci\u00f3n","title":"8. Primeros pasos en OpenStackLDV"},{"location":"08-PrimerosPasos/PrimerosPasos/#primeros-pasos-en-openstackldv","text":"","title":"Primeros pasos en OpenStackLDV"},{"location":"08-PrimerosPasos/PrimerosPasos/#solicitud-de-cuenta-de-usuario-y-proyecto","text":"Para poder acceder a los servicios de OpenStackLDV tienes que disponer de una cuenta de usuario con acceso a un proyecto ( tenant ). Cada usuario ( user ) dispone de una cuenta y puede ser miembro de uno o varios proyectos. Un proyecto (o tenant ) es una arupaci\u00f3n de recursos del cloud (n\u00facleos de procesador -VCPU-, RAM o espacio de almacenamiento) disponible para uno o m\u00e1s usuarios. Los recursos disponibles se definen a trav\u00e9s de quotas . Pueden crearse proyectos para un usuario, un departamento, una organizaci\u00f3n, ... Por convenci\u00f3n, cuando un proyecto contienen a un solo usuario se suele denominar igual que el usuario. En OpenstackLDV de forma predeterminada cada usuario pertenece a un proyecto con su mismo nombre pero puede ser miembro de m\u00e1s de un proyecto (p.e. 2ASIR-SRI, 2ASIR-SAD, Profesores, ...) Las operaciones que un usuario puede realizar sobre un proyecto quedan determinadas por un rol ( role ) (conjunto de permisos que establecen qu\u00e9 operaciones puede realizar un usuario en un proyecto dado). Solicita tu usuario y contrase\u00f1a de acceso a tus profesores.","title":"Solicitud de cuenta de usuario y proyecto"},{"location":"08-PrimerosPasos/PrimerosPasos/#acceso-a-horizon","text":"Una vez que dispongas de tu nombre de usuario y contrase\u00f1a puedes iniciar sesi\u00f3n en el panel web de Horizon, hay dos opciones disponibles: http://openstack.informaticaldv.com http://192.168.211.11 Una vez iniciada la sesi\u00f3n podr\u00e1s ver los recursos disponibles (Computaci\u00f3n, Almacenamiento y Red) en tu/s proyecto/s. En la parte superior derecha ver\u00e1s tu nombre de usuario y en la parte superior derecha el nombre del proyecto activo y un desplegable con los proyectos a los que puedes acceder.","title":"Acceso a Horizon"},{"location":"08-PrimerosPasos/PrimerosPasos/#cambio-de-contrasena","text":"La primera vez que inicies sesi\u00f3n deber\u00edas cambiar tu contrase\u00f1a. Lo puedes hacer en la parte superior derecha, pinchando en el nombre de usuario con la opci\u00f3n Settings, Change Password .","title":"Cambio de contrase\u00f1a"},{"location":"08-PrimerosPasos/PrimerosPasos/#tema","text":"Puedes cambiar el tema del panel web de Horizon pinchando en el nombre de usuario con la opci\u00f3n","title":"Tema"},{"location":"09-Conceptos/Conceptos/","text":"Conceptos \u00b6 Antes de empezar a utilizar los servicios de OpenStackLDV es necesario conocer su terminolog\u00eda y algunos conceptos importantes. Im\u00e1genes \u00b6 El componente de OpenStack que se gestiona las im\u00e1genes es Glance . Una imagen es un sistema preconfigurado que se utiliza como base para crear instancias (m\u00e1quinas virtuales). Cada imagen es un fichero que contiene la estructura y contenidos completos de un dispositivo de almacenamiento (HDD, CD, DVD, etc.). OpenStack soporta: M\u00faltiples formatos de imagen: qcow2: Soportado por QEMU/KVM con m\u00faltiples opciones (snapshots, cifrado, compresi\u00f3n, expansi\u00f3n din\u00e1mica, ...) Es el formato que usaremos principalmente en OpenStackLDV. raw: Formato de imagen de disco en crudo, desestructurado. No optimizado para virtualizaci\u00f3n pero muy portable. iso: Un formato de ficheros para datos contenidos en un disco \u00f3ptico, como por ejemplo un CD-ROM. vmdk : Formato soportado por muchos hipervisores, principalmete VMware. ak : Imagen con kernel de Amazon EC2. ari: Imagen de disco en RAM de Amazon EC2. vdi: Formato de imagen soportado por VirtualBox. ... Contenedores de imagen: OVF: est\u00e1ndar abierto. AMI: Una imagen de m\u00e1quina Amazon, que precisa de una imagen aki y habitualmente de otra ari para poder arrancar. Las im\u00e1genes son archivos de solo lectura . Cloud-images Una cloud-image es una imagen preconstruida por una distribuci\u00f3n/SO. Son discos arrancables, con el sistema operativo ya instalado y con datos espec\u00edficos eliminados (\u201canonimizada\u201d). Las principales \u201cdistros\u201d libres las proporcionan ( OpenStack Get Images ). El proyecto CirrOS nos ofrece im\u00e1genes de testing (\u00a1no aptas para producci\u00f3n!). Es posible crear nuestras propias cloud-images instalando nuestro sistema operativo y haciendo una serie de configuraciones. Lo habitual en un IaaS es que existan un conjunto de im\u00e1genes gen\u00e9ricas ( cloud-images ) y p\u00fablicas (accesibles por todos los usuarios) para poder crear instancias. Adem\u00e1s, cada usuario podr\u00e1 crear y subir sus propias im\u00e1genes en funci\u00f3n de los permisos y cuotas que se le hayan otorgado. Sabores (o tipos de instancias) \u00b6 Un sabor ( o tipo de instancia) es una plantilla que permite definir para una instancia una ser\u00ede de caracter\u00edsticas hardware: el n\u00famero de CPUs virtuales (VCPUs), la memoria RAM y si dispone o no de discos ef\u00edmeros y su tama\u00f1o. En OpenStackLDV existen varios sabores predeterminados. Es responsabilidad del administrador gestionar los sabores. Instancias \u00b6 El componente de OpenStack que gestiona la instancias es Nova . Una instancia es una m\u00e1quina virtual aprovisionada por OpenStack. Se crea (lanza) a partir de una imagen y en base a un sabor. Es capaz de configurarse din\u00e1micamente en tiempo de instanciaci\u00f3n gracias a un servicio del cloud denominado servidor de metadatos que \"inyecta\" o env\u00eda par\u00e1metros (nombre, IPs, claves SSH, scripts, ...) a las instancia. Cada instancia se ejecuta en uno de los nodos de computaci\u00f3n del cloud. Se puede conectar a una o varias redes. Redes y dispositivos de red \u00b6 El componente de OpenStack que gestiona las redes y los dispositivos de red es Neutron . Redes \u00b6 OpenStack permite crear permite crear redes virtuales. A esa redes se pueden conectar instancias y routers. Una red es un dominio de capa 2 (equivalente a una VLAN en redes f\u00edsicas). Cada red esta \"reservada\" y es privada al proyecto en el que se crea. En OpenStackLDV existe una red especial (externa) creada que se denomina provider , que es equivalente a la red del instituto. No es posible conectar directamente instancias a la red provider . Subredes \u00b6 Una subred es un bloque de direcciones IPv4 o IPv6 que se asignan a las instancias que se conectan a ella. Cada subred debe estar asociada a una red. OpenStack permite crear un servidor DHCP para otorgar la configuraci\u00f3n de red a las instancias de forma din\u00e1mica. M\u00faltiples subredes no contiguas pueden asociarse a una \u00fanica red. Routers \u00b6 Dispositivos virtuales que permiten enrutar entre redes. Disponen de interfaces conectados a redes a los que se les pueden asignar IPs. Puertos \u00b6 Puerto virtual de un \"switch virtual\" que conecta a todos los dispositivos conectados a una red. Un punto de conexi\u00f3n para mapear la NIC de una instancia/interfaz de un router a una red virtual. Incluye la configuraci\u00f3n de red asociada, como la MAC y la IP. Existe puertos a los que se conectan routers, instancias y servidores DHCP. IP Fija \u00b6 Direcci\u00f3n IP asignada a un interfaz de una instancia/router y que se utiliza para comunicaci\u00f3n interna. La direcci\u00f3n IP fija no cambia durante la vida de la instancia. IP Flotante \u00b6 Direcci\u00f3n IP asociada a una instancia en un momento dado para poder acceder a ella desde el exterior. En OpenStackLDV el rango de IPs flotates es una rango de direcciones IPv4 de la red IP del instituto (la red provider ). Una IP flotante puede desasignarse y asignarse a otra instancia diferente cuando se considere. Se asigna de forma din\u00e1mica a una instancia por DHCP. Una instancia ignora por completo que tiene dicha direcci\u00f3n. Grupo de seguridad \u00b6 Reglas de cortafuegos que controlan el acceso a las instancias. Los grupos de seguridad permiten aplicar reglas de firewall por instancia (las reglas se aplican a nivel de interfaz de red). Soportan reglas de tr\u00e1fico ingress y egress . Se puede cambiar de grupo de seguridad en vivo (con la instancia ejecut\u00e1ndose). Toda instancia debe pertenecer al menos a un grupo de seguridad y puede pertenecer a varios. En cada proyecto hay creado un grupo de seguridad por defecto ( default ) que permite intercomunicar a las instancias del proyecto .Por defecto permite todo el tr\u00e1fico de salida y acepta tr\u00e1fico ingress del grupo, pero rechaza todo el tr\u00e1fico exterior que no proceda del grupo de seguridad default . Claves SSH \u00b6 Es habitual que las im\u00e1genes este preparadas para que a las instancias que se crean a partir de ellas solo de pueda acceder por SSH usando auntenticaci\u00f3n por clave p\u00fablica (la usuarios creados no tienen contrase\u00f1a y el acceso usuario/clave est\u00e1 deshabilitado en el servidor SSH). Los usuarios pueden: Crear pares de claves p\u00fablica/privada en el cloud de forma que el usuario se descargar\u00e1 la clave privada en el equipo en el que usar\u00e1 el cliente SSH. Subir la clave p\u00fablica, asociada con una clave privada que haya creado previamente en su equipo, al cloud. Esta opci\u00f3n es m\u00e1s segura. En el momento de crear la instancia se puede indicar que clave/s p\u00fablica/s se \"inyectar\u00e1n\" en la instancia. Hay im\u00e1genes donde si esta habilitado el acceso usando usuario y contrase\u00f1a (por ejemplo en Cirros). Acciones sobre instancias \u00b6 Una vez creadas es posible realizar diferentes operaciones o acciones sobre una instancia. Acciones sobre a la informaci\u00f3n de la instancia \u00b6 Editar instancia : Permite cambiar el nombre de la instancia. View log : Permite acceder al log de inicio de la instancia. Console : Permite acceder a una consola VNC para administrar la instancia. Update metadatos : Permite modificar los metadatos de la instancia. Acciones sobre la configuraci\u00f3n de red \u00b6 Assocate Floating IP : Permite asociar a la instancia una IP flotante reservada en el proyecto. Consulta el apartado sobre Redes y dispositivos de red . Attach Interface : Permite a\u00f1adir un nuevo interfaz (tarjeta) de red y conectarla a una red (internamente se crea un nuevo puerto). Consulta el apartado sobre Redes y dispositivos de red . Deattach Interface : Permite quitar un interfaz (tarjeta) de red y desconectarla por lo tanto de la red correspondiente. Consulta el apartado sobre Redes y dispositivos de red . Acciones sobre el ciclo de vida de la instancia \u00b6 Pause Instance : Para la ejecuci\u00f3n de la instancia guardando su estado en memoria RAM. Suspended Instance : Para la ejecuci\u00f3n de la instancia guardando su estado en memoria disco. Resume Instance : Reaunda una instancia suspendida o pausada. Shut Off Instance : Apaga una instancia. Start Instance : Inicia una instancia apagada. Soft Reboot : env\u00eda una se\u00f1al de reinicio al sistema operativo de la instancia. Hard Reboot : fuerza el reinicio de la instancia. Solo deber\u00edamos hacerlo si tenemos alg\u00fan problema con ella. Lock Instance : Bloquea la instancia par que no se pueda modificar su configuraci\u00f3n. Unlock Instance : Desbloquea la instancia par que no se pueda modificar su configuraci\u00f3n. Delete Instance : Borra la instancia y libera todos los recursos que usaba. Acciones sobre el almacenamiento de la instancia \u00b6 Attach Volume : Permite conectar a la instancia un volumen previamente creado. Consulta el apartado sobre Almacenamiento . Deattach Volume : Permite desconectar de un volumen de la instancia. Consulta el apartado sobre Almacenamiento .. Create Snapshot : Permite crear una nueva snapshot . Consulta el apartado sobre Snapshots de instancias Acciones sobre la configuraci\u00f3n de la seguridad de la instancia \u00b6 Edit Security Groups : Permite a\u00f1adir o quitar grupos de seguridad. Consulta el apartado sobre Redes y dispositivos de red . . Edit Port Security Groups : Permite configurar la seguridad de un determinado puerto. Permite desactivar el cortafuegos de la instancia en esa interfaz de red desactivando la opci\u00f3n Seguridad del puerto . Consulta el apartado sobre Redes y dispositivos de red . . Redimensionar una instancia \u00b6 Resize Instance : Permite cambiar el sabor de la instancia y por lo tanto sus recursos de CPU, RAM y disco. Se realiza en dos pasos, en primer lugar verifica si es posible llevarlo a cabo, y si es posible la instancia pasa al estado VERIFY_RESIZE y se le pregunta al si Confirmar la redimensi\u00f3n o Revertir la redimensi\u00f3n. Reconstruir una instancia \u00b6 Rebuild Instace : Permite reconstruir de nuevo la instancia usando otra imagen pero manteniendo la misma IP y metadatos.. Archivar una instancia \u00b6 Shelve Instance : Archivar una instancia permite detener una instancia y liberar en el cloud los recursos de computaci\u00f3n asociados ( vCPUs, RAM, disco) sin tener que eliminarla. Internamente se crea una instant\u00e1nea ( snapshot ) de la instancia. La instancia en ejecuci\u00f3n se elimina del nodo de computaci\u00f3n, pero sus detalles del tiempo de ejecuci\u00f3n, vCPUs, RAM tama\u00f1o del disco y direcciones IP, se conservan. Sobre una instancia archivada podemos eliminarla o recuperarla. Unshelve Instance : Permite recuperar una instancia Archivada . Snapshots de instancias \u00b6 Una snapshot es una instantanea de una instancia. Cuando se crea una snapshot de una instancia se crea una nueva imagen con el estado actual de la instancia. A partir de esta nueva imagen se pueden crear nuevas instancias. Esto es muy \u00fatil para distribuir im\u00e1genes con una configuraci\u00f3n espec\u00edfica. Almacenamiento \u00b6 OpenStack permite gestionar varios tipos de almacenamiento que podemos clasificar en: Almacenamiento ef\u00edmero Este almacenamiento est\u00e1 asociado al ciclo de vida de vida de una instancia. Cuando se destruye la instancia se borra el almacenamiento. Lo ideal es crear siempre las instancias con almacenamiento ef\u00edmero. Terminar (destruir) una instancia es el borrado definitivo de la instancia !!! Miedo razonable a perder una instancia \u00a1\u00a1\u00a1 Cambio de mentalidad, lo que meta en la instancia debe ser ef\u00edmero. Lo \u201cimportante\u201d debe estar en el \u200b Almacenamiento persistente (Vol\u00famenes). Almacenamiento persistente Almacenamiento independiente de la vida de las instancias. Existen diferentes tipos de almacenamiento persistente soportados por diferentes componentes de OpenStack. Fuente: https://flossystems.com/ En OpenStackLDV est\u00e1 se dispone del almacenamiento de bloques basado en vol\u00famenes gestionado por el componente Cinder . Vol\u00famenes \u00b6 Un v\u00f3lumen es un dispositivo de bloques que se puede asociar/desasociar de una instancia en cualquier momento. Utilizado para proporcionar almacenamiento persistente e independiente de la vida de una instancia. Pueden usarse tambi\u00e9n para arrancar instancias desde ellos. Un volumen solo puede estar asociado a una instancia simult\u00e1neamente. En un IaaS no tiene utilidad y es obsoleto hacer particiones. Si necesito creo m\u00e1s vol\u00famenes. Es importante asegurarse de formatear los vol\u00famenes con sistemas de ficheros que admitan redimensi\u00f3n/reformateo en caliente. Snapshots de vol\u00famenes \u00b6 Una snapshot es una copia instant\u00e1nea de solo-lectura de un volumen en un momento determinado. Pueden usarse para crear nuevos vol\u00famenes. Hay que tener cuidado con las snapshots de vol\u00famenes en caliente. Las snapshots son dependientes del origen. Para borrar un volumen hay que borrar primero los snapshots Al crear un volumen a partir de snapshot de volumen lo independizamos el volumen del que inicia. Servidor de metadatos y Cloud init \u00b6 Recuerda que: Una instancia es una m\u00e1quina virtual aprovisionada por OpenStack que se crea (lanza) a partir de una imagen y en base a un sabor (plantilla con el tama\u00f1o - vCPUs, RAM y almacenamiento ef\u00edmero-). Una imagen es un sistema preconfigurado que se utiliza como base para crear instancias (m\u00e1quinas virtuales). Las imagenes por lo tanto no tienen ninguna configuraci\u00f3n espec\u00edfica y es necesario establecer una serie de configuraciones/par\u00e1metros en el momento de crear la instancia (nombre de la m\u00e1quina,, usuarios, autenticaci\u00f3n y claves ssh, ...). Opestack permite configurar las instancias din\u00e1micamente en tiempo de instanciaci\u00f3n gracias a un que ofrece un servicio del cloud denominado servidor de metadatos que \"inyecta\" o env\u00eda par\u00e1metros (nombre, IPs, claves SSH, scripts, ...) a las instancia. Servidor de metadatos \u00b6 Opestack (a trav\u00e9s del compomete nova) ofrece usa un servicio especial de metadatos, que es accesible desde toda las instancia a trav\u00e9s de la url http://169.254.169.254/openstack . A partir de esa URL devuelve los metadatos al cliente que los solicita en formato json . Permite a las instancia inyectarse datos din\u00e1micos sobre s\u00ed misma para configurarse al arrancar por vez primera. Soporta API de Amazon EC2, lo que permite instanciar en OpenStack im\u00e1genes preparadas para Amazon. Ejemplos de consultas al servidor de metadatos desde una instancia. curl -w\"\\n\" 169.254.169.254 curl -w\"\\n\" 169.254.169.254/latest/ curl -w\"\\n\" 169.254.169.254/latest/meta-data curl -w\"\\n\" 169.254.169.254/latest/meta-data/hostname curl -w\"\\n\" 169.254.169.254/latest/meta-data/instance-type curl -w\"\\n\" 169.254.169.254/latest/meta-data/local-ipv4 curl -w\"\\n\" 169.254.169.254/latest/meta-data/public-ipv4 Cloud-init \u00b6 Cloud-init ( https://cloud-init.io/ ) es un software que permite consultar param\u00e9tros a un proveedor cloud o de virtualizaci\u00f3n para inicializar las instancias o m\u00e1quinas virtuales duante su instanciaci\u00f3n o arranque. Fue desarrollado inicialmente por Canonical para las im\u00e1genes cloud de Ubuntu usadas por AWS. Desde entonces, la aplicaci\u00f3n ha evolucionado y puede ser usada en otras muchas distribuciones y en otros entornos cloud (y no cloud). Se ha convertido en el estandar y es soportado por m\u00faltiples sistemas operativos y proveedores de cloud y sistemas de virtualizaci\u00f3n. Durante el arranque, cloud-init identifica la nube/sistema en la que se est\u00e1 ejecutando e inicializa el sistema en consecuencia. Las instancias se aprovisionar\u00e1n autom\u00e1ticamente durante el primer arranque con redes, almacenamiento, claves SSH, paquetes y varios otros aspectos del sistema ya configurados. Las im\u00e1genes de Openstack ( cloud images ) tienen instalado y configurado el paquete cloud-init para inicializar las instancias. Puede consultar los datos desde diferentes fuentes (servidor de metadatos, user-data , ...) seg\u00fan la configuracion de cloud-init . Habitualmente cuendo se inicia o reinicia una instancia en Openstack cloud-init consulta el servidor de metadatos y: Configura el hostname de la instancia. Obtiene la informaci\u00f3n de la configuraci\u00f3n de red. Si no existe, se hace una petici\u00f3n DHCP. Genera par de claves SSH para la instancia. Inyecta clave p\u00fablica SSH en /.ssh/authorized_keys del usuario por defecto de la instancia Configura locales por defecto. Se redimensiona la partici\u00f3n ra\u00edz y los puntos de montaje del almacenamiento ef\u00edmero de la instancia, Consulta el user-data inyectado por el usuario del cloud en tiempo de instanciaci\u00f3n. Documentaci\u00f3n de cloud-init : https://cloudinit.readthedocs.io/en/latest/ user-data Es un conjunto de datos/instrucciones que el usuario le puede indicar al cloud en el momento de crear o iniciar la instancia para que cloud-init los procese. Soporta varios tipos de formato: https://cloudinit.readthedocs.io/en/latest/explanation/format.html#user-data-formats . - En nuestras actividades vamos usar scripts y cloud-config . scripts : en .sh, .bash, .... cloud-config : fichero en formato YAML con una serie de directivas que permiten indicar acciones y datos. Ejemplos de cloud-config Documentaci\u00f3n oficial . Documentaci\u00f3n de RedHat . Modificar el username del usuario por defecto #cloud-config system_info: default_user: name: alumno Cambiar contrase\u00f1a #cloud-config chpasswd: list: | alumno:alumno expire: False Actualizar paquetes #cloud-config package_update: true package_upgrade: true package_reboot_if_required: false Instalar paquetes #cloud-config packages: - traceroute - apache2 Escritura ficheros #cloud-config write_files: - path: /var/www/html/index.html permissions: '0644' owner: www-data:www-data content: | Mi web runcmd: Solo en el primer arranque #cloud-config runcmd: - rm -rf /var/www/html/ - git clone https://github.com/asir/web-test.git /var/www/html/ - chown -R www-data:www-data /var/www/html/ bootcmd: En cada arranque #cloud-config bootcmd: - rm -rf /var/www/html/ - git clone https://github.com/asir/web-test.git /var/www/html/ - chown -R www-data:www-data /var/www/html/ \u200b En OpenStackLDV es posible introducir el user-data en el momento de crear la instancia en la pesta\u00f1a Configuration .","title":"9. Conceptos"},{"location":"09-Conceptos/Conceptos/#conceptos","text":"Antes de empezar a utilizar los servicios de OpenStackLDV es necesario conocer su terminolog\u00eda y algunos conceptos importantes.","title":"Conceptos"},{"location":"09-Conceptos/Conceptos/#imagenes","text":"El componente de OpenStack que se gestiona las im\u00e1genes es Glance . Una imagen es un sistema preconfigurado que se utiliza como base para crear instancias (m\u00e1quinas virtuales). Cada imagen es un fichero que contiene la estructura y contenidos completos de un dispositivo de almacenamiento (HDD, CD, DVD, etc.). OpenStack soporta: M\u00faltiples formatos de imagen: qcow2: Soportado por QEMU/KVM con m\u00faltiples opciones (snapshots, cifrado, compresi\u00f3n, expansi\u00f3n din\u00e1mica, ...) Es el formato que usaremos principalmente en OpenStackLDV. raw: Formato de imagen de disco en crudo, desestructurado. No optimizado para virtualizaci\u00f3n pero muy portable. iso: Un formato de ficheros para datos contenidos en un disco \u00f3ptico, como por ejemplo un CD-ROM. vmdk : Formato soportado por muchos hipervisores, principalmete VMware. ak : Imagen con kernel de Amazon EC2. ari: Imagen de disco en RAM de Amazon EC2. vdi: Formato de imagen soportado por VirtualBox. ... Contenedores de imagen: OVF: est\u00e1ndar abierto. AMI: Una imagen de m\u00e1quina Amazon, que precisa de una imagen aki y habitualmente de otra ari para poder arrancar. Las im\u00e1genes son archivos de solo lectura . Cloud-images Una cloud-image es una imagen preconstruida por una distribuci\u00f3n/SO. Son discos arrancables, con el sistema operativo ya instalado y con datos espec\u00edficos eliminados (\u201canonimizada\u201d). Las principales \u201cdistros\u201d libres las proporcionan ( OpenStack Get Images ). El proyecto CirrOS nos ofrece im\u00e1genes de testing (\u00a1no aptas para producci\u00f3n!). Es posible crear nuestras propias cloud-images instalando nuestro sistema operativo y haciendo una serie de configuraciones. Lo habitual en un IaaS es que existan un conjunto de im\u00e1genes gen\u00e9ricas ( cloud-images ) y p\u00fablicas (accesibles por todos los usuarios) para poder crear instancias. Adem\u00e1s, cada usuario podr\u00e1 crear y subir sus propias im\u00e1genes en funci\u00f3n de los permisos y cuotas que se le hayan otorgado.","title":"Im\u00e1genes"},{"location":"09-Conceptos/Conceptos/#sabores-o-tipos-de-instancias","text":"Un sabor ( o tipo de instancia) es una plantilla que permite definir para una instancia una ser\u00ede de caracter\u00edsticas hardware: el n\u00famero de CPUs virtuales (VCPUs), la memoria RAM y si dispone o no de discos ef\u00edmeros y su tama\u00f1o. En OpenStackLDV existen varios sabores predeterminados. Es responsabilidad del administrador gestionar los sabores.","title":"Sabores (o tipos de instancias)"},{"location":"09-Conceptos/Conceptos/#instancias","text":"El componente de OpenStack que gestiona la instancias es Nova . Una instancia es una m\u00e1quina virtual aprovisionada por OpenStack. Se crea (lanza) a partir de una imagen y en base a un sabor. Es capaz de configurarse din\u00e1micamente en tiempo de instanciaci\u00f3n gracias a un servicio del cloud denominado servidor de metadatos que \"inyecta\" o env\u00eda par\u00e1metros (nombre, IPs, claves SSH, scripts, ...) a las instancia. Cada instancia se ejecuta en uno de los nodos de computaci\u00f3n del cloud. Se puede conectar a una o varias redes.","title":"Instancias"},{"location":"09-Conceptos/Conceptos/#redes-y-dispositivos-de-red","text":"El componente de OpenStack que gestiona las redes y los dispositivos de red es Neutron .","title":"Redes y dispositivos de red"},{"location":"09-Conceptos/Conceptos/#redes","text":"OpenStack permite crear permite crear redes virtuales. A esa redes se pueden conectar instancias y routers. Una red es un dominio de capa 2 (equivalente a una VLAN en redes f\u00edsicas). Cada red esta \"reservada\" y es privada al proyecto en el que se crea. En OpenStackLDV existe una red especial (externa) creada que se denomina provider , que es equivalente a la red del instituto. No es posible conectar directamente instancias a la red provider .","title":"Redes"},{"location":"09-Conceptos/Conceptos/#subredes","text":"Una subred es un bloque de direcciones IPv4 o IPv6 que se asignan a las instancias que se conectan a ella. Cada subred debe estar asociada a una red. OpenStack permite crear un servidor DHCP para otorgar la configuraci\u00f3n de red a las instancias de forma din\u00e1mica. M\u00faltiples subredes no contiguas pueden asociarse a una \u00fanica red.","title":"Subredes"},{"location":"09-Conceptos/Conceptos/#routers","text":"Dispositivos virtuales que permiten enrutar entre redes. Disponen de interfaces conectados a redes a los que se les pueden asignar IPs.","title":"Routers"},{"location":"09-Conceptos/Conceptos/#puertos","text":"Puerto virtual de un \"switch virtual\" que conecta a todos los dispositivos conectados a una red. Un punto de conexi\u00f3n para mapear la NIC de una instancia/interfaz de un router a una red virtual. Incluye la configuraci\u00f3n de red asociada, como la MAC y la IP. Existe puertos a los que se conectan routers, instancias y servidores DHCP.","title":"Puertos"},{"location":"09-Conceptos/Conceptos/#ip-fija","text":"Direcci\u00f3n IP asignada a un interfaz de una instancia/router y que se utiliza para comunicaci\u00f3n interna. La direcci\u00f3n IP fija no cambia durante la vida de la instancia.","title":"IP Fija"},{"location":"09-Conceptos/Conceptos/#ip-flotante","text":"Direcci\u00f3n IP asociada a una instancia en un momento dado para poder acceder a ella desde el exterior. En OpenStackLDV el rango de IPs flotates es una rango de direcciones IPv4 de la red IP del instituto (la red provider ). Una IP flotante puede desasignarse y asignarse a otra instancia diferente cuando se considere. Se asigna de forma din\u00e1mica a una instancia por DHCP. Una instancia ignora por completo que tiene dicha direcci\u00f3n.","title":"IP Flotante"},{"location":"09-Conceptos/Conceptos/#grupo-de-seguridad","text":"Reglas de cortafuegos que controlan el acceso a las instancias. Los grupos de seguridad permiten aplicar reglas de firewall por instancia (las reglas se aplican a nivel de interfaz de red). Soportan reglas de tr\u00e1fico ingress y egress . Se puede cambiar de grupo de seguridad en vivo (con la instancia ejecut\u00e1ndose). Toda instancia debe pertenecer al menos a un grupo de seguridad y puede pertenecer a varios. En cada proyecto hay creado un grupo de seguridad por defecto ( default ) que permite intercomunicar a las instancias del proyecto .Por defecto permite todo el tr\u00e1fico de salida y acepta tr\u00e1fico ingress del grupo, pero rechaza todo el tr\u00e1fico exterior que no proceda del grupo de seguridad default .","title":"Grupo de seguridad"},{"location":"09-Conceptos/Conceptos/#claves-ssh","text":"Es habitual que las im\u00e1genes este preparadas para que a las instancias que se crean a partir de ellas solo de pueda acceder por SSH usando auntenticaci\u00f3n por clave p\u00fablica (la usuarios creados no tienen contrase\u00f1a y el acceso usuario/clave est\u00e1 deshabilitado en el servidor SSH). Los usuarios pueden: Crear pares de claves p\u00fablica/privada en el cloud de forma que el usuario se descargar\u00e1 la clave privada en el equipo en el que usar\u00e1 el cliente SSH. Subir la clave p\u00fablica, asociada con una clave privada que haya creado previamente en su equipo, al cloud. Esta opci\u00f3n es m\u00e1s segura. En el momento de crear la instancia se puede indicar que clave/s p\u00fablica/s se \"inyectar\u00e1n\" en la instancia. Hay im\u00e1genes donde si esta habilitado el acceso usando usuario y contrase\u00f1a (por ejemplo en Cirros).","title":"Claves SSH"},{"location":"09-Conceptos/Conceptos/#acciones-sobre-instancias","text":"Una vez creadas es posible realizar diferentes operaciones o acciones sobre una instancia.","title":"Acciones sobre instancias"},{"location":"09-Conceptos/Conceptos/#acciones-sobre-a-la-informacion-de-la-instancia","text":"Editar instancia : Permite cambiar el nombre de la instancia. View log : Permite acceder al log de inicio de la instancia. Console : Permite acceder a una consola VNC para administrar la instancia. Update metadatos : Permite modificar los metadatos de la instancia.","title":"Acciones sobre a la informaci\u00f3n de la instancia"},{"location":"09-Conceptos/Conceptos/#acciones-sobre-la-configuracion-de-red","text":"Assocate Floating IP : Permite asociar a la instancia una IP flotante reservada en el proyecto. Consulta el apartado sobre Redes y dispositivos de red . Attach Interface : Permite a\u00f1adir un nuevo interfaz (tarjeta) de red y conectarla a una red (internamente se crea un nuevo puerto). Consulta el apartado sobre Redes y dispositivos de red . Deattach Interface : Permite quitar un interfaz (tarjeta) de red y desconectarla por lo tanto de la red correspondiente. Consulta el apartado sobre Redes y dispositivos de red .","title":"Acciones sobre la configuraci\u00f3n de red"},{"location":"09-Conceptos/Conceptos/#acciones-sobre-el-ciclo-de-vida-de-la-instancia","text":"Pause Instance : Para la ejecuci\u00f3n de la instancia guardando su estado en memoria RAM. Suspended Instance : Para la ejecuci\u00f3n de la instancia guardando su estado en memoria disco. Resume Instance : Reaunda una instancia suspendida o pausada. Shut Off Instance : Apaga una instancia. Start Instance : Inicia una instancia apagada. Soft Reboot : env\u00eda una se\u00f1al de reinicio al sistema operativo de la instancia. Hard Reboot : fuerza el reinicio de la instancia. Solo deber\u00edamos hacerlo si tenemos alg\u00fan problema con ella. Lock Instance : Bloquea la instancia par que no se pueda modificar su configuraci\u00f3n. Unlock Instance : Desbloquea la instancia par que no se pueda modificar su configuraci\u00f3n. Delete Instance : Borra la instancia y libera todos los recursos que usaba.","title":"Acciones sobre el ciclo de vida de la instancia"},{"location":"09-Conceptos/Conceptos/#acciones-sobre-el-almacenamiento-de-la-instancia","text":"Attach Volume : Permite conectar a la instancia un volumen previamente creado. Consulta el apartado sobre Almacenamiento . Deattach Volume : Permite desconectar de un volumen de la instancia. Consulta el apartado sobre Almacenamiento .. Create Snapshot : Permite crear una nueva snapshot . Consulta el apartado sobre Snapshots de instancias","title":"Acciones sobre el almacenamiento de la instancia"},{"location":"09-Conceptos/Conceptos/#acciones-sobre-la-configuracion-de-la-seguridad-de-la-instancia","text":"Edit Security Groups : Permite a\u00f1adir o quitar grupos de seguridad. Consulta el apartado sobre Redes y dispositivos de red . . Edit Port Security Groups : Permite configurar la seguridad de un determinado puerto. Permite desactivar el cortafuegos de la instancia en esa interfaz de red desactivando la opci\u00f3n Seguridad del puerto . Consulta el apartado sobre Redes y dispositivos de red . .","title":"Acciones sobre la configuraci\u00f3n de la seguridad de la instancia"},{"location":"09-Conceptos/Conceptos/#redimensionar-una-instancia","text":"Resize Instance : Permite cambiar el sabor de la instancia y por lo tanto sus recursos de CPU, RAM y disco. Se realiza en dos pasos, en primer lugar verifica si es posible llevarlo a cabo, y si es posible la instancia pasa al estado VERIFY_RESIZE y se le pregunta al si Confirmar la redimensi\u00f3n o Revertir la redimensi\u00f3n.","title":"Redimensionar una instancia"},{"location":"09-Conceptos/Conceptos/#reconstruir-una-instancia","text":"Rebuild Instace : Permite reconstruir de nuevo la instancia usando otra imagen pero manteniendo la misma IP y metadatos..","title":"Reconstruir una instancia"},{"location":"09-Conceptos/Conceptos/#archivar-una-instancia","text":"Shelve Instance : Archivar una instancia permite detener una instancia y liberar en el cloud los recursos de computaci\u00f3n asociados ( vCPUs, RAM, disco) sin tener que eliminarla. Internamente se crea una instant\u00e1nea ( snapshot ) de la instancia. La instancia en ejecuci\u00f3n se elimina del nodo de computaci\u00f3n, pero sus detalles del tiempo de ejecuci\u00f3n, vCPUs, RAM tama\u00f1o del disco y direcciones IP, se conservan. Sobre una instancia archivada podemos eliminarla o recuperarla. Unshelve Instance : Permite recuperar una instancia Archivada .","title":"Archivar una instancia"},{"location":"09-Conceptos/Conceptos/#snapshots-de-instancias","text":"Una snapshot es una instantanea de una instancia. Cuando se crea una snapshot de una instancia se crea una nueva imagen con el estado actual de la instancia. A partir de esta nueva imagen se pueden crear nuevas instancias. Esto es muy \u00fatil para distribuir im\u00e1genes con una configuraci\u00f3n espec\u00edfica.","title":"Snapshots de instancias"},{"location":"09-Conceptos/Conceptos/#almacenamiento","text":"OpenStack permite gestionar varios tipos de almacenamiento que podemos clasificar en: Almacenamiento ef\u00edmero Este almacenamiento est\u00e1 asociado al ciclo de vida de vida de una instancia. Cuando se destruye la instancia se borra el almacenamiento. Lo ideal es crear siempre las instancias con almacenamiento ef\u00edmero. Terminar (destruir) una instancia es el borrado definitivo de la instancia !!! Miedo razonable a perder una instancia \u00a1\u00a1\u00a1 Cambio de mentalidad, lo que meta en la instancia debe ser ef\u00edmero. Lo \u201cimportante\u201d debe estar en el \u200b Almacenamiento persistente (Vol\u00famenes). Almacenamiento persistente Almacenamiento independiente de la vida de las instancias. Existen diferentes tipos de almacenamiento persistente soportados por diferentes componentes de OpenStack. Fuente: https://flossystems.com/ En OpenStackLDV est\u00e1 se dispone del almacenamiento de bloques basado en vol\u00famenes gestionado por el componente Cinder .","title":"Almacenamiento"},{"location":"09-Conceptos/Conceptos/#volumenes","text":"Un v\u00f3lumen es un dispositivo de bloques que se puede asociar/desasociar de una instancia en cualquier momento. Utilizado para proporcionar almacenamiento persistente e independiente de la vida de una instancia. Pueden usarse tambi\u00e9n para arrancar instancias desde ellos. Un volumen solo puede estar asociado a una instancia simult\u00e1neamente. En un IaaS no tiene utilidad y es obsoleto hacer particiones. Si necesito creo m\u00e1s vol\u00famenes. Es importante asegurarse de formatear los vol\u00famenes con sistemas de ficheros que admitan redimensi\u00f3n/reformateo en caliente.","title":"Vol\u00famenes"},{"location":"09-Conceptos/Conceptos/#snapshots-de-volumenes","text":"Una snapshot es una copia instant\u00e1nea de solo-lectura de un volumen en un momento determinado. Pueden usarse para crear nuevos vol\u00famenes. Hay que tener cuidado con las snapshots de vol\u00famenes en caliente. Las snapshots son dependientes del origen. Para borrar un volumen hay que borrar primero los snapshots Al crear un volumen a partir de snapshot de volumen lo independizamos el volumen del que inicia.","title":"Snapshots de vol\u00famenes"},{"location":"09-Conceptos/Conceptos/#servidor-de-metadatos-y-cloud-init","text":"Recuerda que: Una instancia es una m\u00e1quina virtual aprovisionada por OpenStack que se crea (lanza) a partir de una imagen y en base a un sabor (plantilla con el tama\u00f1o - vCPUs, RAM y almacenamiento ef\u00edmero-). Una imagen es un sistema preconfigurado que se utiliza como base para crear instancias (m\u00e1quinas virtuales). Las imagenes por lo tanto no tienen ninguna configuraci\u00f3n espec\u00edfica y es necesario establecer una serie de configuraciones/par\u00e1metros en el momento de crear la instancia (nombre de la m\u00e1quina,, usuarios, autenticaci\u00f3n y claves ssh, ...). Opestack permite configurar las instancias din\u00e1micamente en tiempo de instanciaci\u00f3n gracias a un que ofrece un servicio del cloud denominado servidor de metadatos que \"inyecta\" o env\u00eda par\u00e1metros (nombre, IPs, claves SSH, scripts, ...) a las instancia.","title":"Servidor de metadatos y Cloud init"},{"location":"09-Conceptos/Conceptos/#servidor-de-metadatos","text":"Opestack (a trav\u00e9s del compomete nova) ofrece usa un servicio especial de metadatos, que es accesible desde toda las instancia a trav\u00e9s de la url http://169.254.169.254/openstack . A partir de esa URL devuelve los metadatos al cliente que los solicita en formato json . Permite a las instancia inyectarse datos din\u00e1micos sobre s\u00ed misma para configurarse al arrancar por vez primera. Soporta API de Amazon EC2, lo que permite instanciar en OpenStack im\u00e1genes preparadas para Amazon. Ejemplos de consultas al servidor de metadatos desde una instancia. curl -w\"\\n\" 169.254.169.254 curl -w\"\\n\" 169.254.169.254/latest/ curl -w\"\\n\" 169.254.169.254/latest/meta-data curl -w\"\\n\" 169.254.169.254/latest/meta-data/hostname curl -w\"\\n\" 169.254.169.254/latest/meta-data/instance-type curl -w\"\\n\" 169.254.169.254/latest/meta-data/local-ipv4 curl -w\"\\n\" 169.254.169.254/latest/meta-data/public-ipv4","title":"Servidor de metadatos"},{"location":"09-Conceptos/Conceptos/#cloud-init","text":"Cloud-init ( https://cloud-init.io/ ) es un software que permite consultar param\u00e9tros a un proveedor cloud o de virtualizaci\u00f3n para inicializar las instancias o m\u00e1quinas virtuales duante su instanciaci\u00f3n o arranque. Fue desarrollado inicialmente por Canonical para las im\u00e1genes cloud de Ubuntu usadas por AWS. Desde entonces, la aplicaci\u00f3n ha evolucionado y puede ser usada en otras muchas distribuciones y en otros entornos cloud (y no cloud). Se ha convertido en el estandar y es soportado por m\u00faltiples sistemas operativos y proveedores de cloud y sistemas de virtualizaci\u00f3n. Durante el arranque, cloud-init identifica la nube/sistema en la que se est\u00e1 ejecutando e inicializa el sistema en consecuencia. Las instancias se aprovisionar\u00e1n autom\u00e1ticamente durante el primer arranque con redes, almacenamiento, claves SSH, paquetes y varios otros aspectos del sistema ya configurados. Las im\u00e1genes de Openstack ( cloud images ) tienen instalado y configurado el paquete cloud-init para inicializar las instancias. Puede consultar los datos desde diferentes fuentes (servidor de metadatos, user-data , ...) seg\u00fan la configuracion de cloud-init . Habitualmente cuendo se inicia o reinicia una instancia en Openstack cloud-init consulta el servidor de metadatos y: Configura el hostname de la instancia. Obtiene la informaci\u00f3n de la configuraci\u00f3n de red. Si no existe, se hace una petici\u00f3n DHCP. Genera par de claves SSH para la instancia. Inyecta clave p\u00fablica SSH en /.ssh/authorized_keys del usuario por defecto de la instancia Configura locales por defecto. Se redimensiona la partici\u00f3n ra\u00edz y los puntos de montaje del almacenamiento ef\u00edmero de la instancia, Consulta el user-data inyectado por el usuario del cloud en tiempo de instanciaci\u00f3n. Documentaci\u00f3n de cloud-init : https://cloudinit.readthedocs.io/en/latest/ user-data Es un conjunto de datos/instrucciones que el usuario le puede indicar al cloud en el momento de crear o iniciar la instancia para que cloud-init los procese. Soporta varios tipos de formato: https://cloudinit.readthedocs.io/en/latest/explanation/format.html#user-data-formats . - En nuestras actividades vamos usar scripts y cloud-config . scripts : en .sh, .bash, .... cloud-config : fichero en formato YAML con una serie de directivas que permiten indicar acciones y datos. Ejemplos de cloud-config Documentaci\u00f3n oficial . Documentaci\u00f3n de RedHat . Modificar el username del usuario por defecto #cloud-config system_info: default_user: name: alumno Cambiar contrase\u00f1a #cloud-config chpasswd: list: | alumno:alumno expire: False Actualizar paquetes #cloud-config package_update: true package_upgrade: true package_reboot_if_required: false Instalar paquetes #cloud-config packages: - traceroute - apache2 Escritura ficheros #cloud-config write_files: - path: /var/www/html/index.html permissions: '0644' owner: www-data:www-data content: | Mi web runcmd: Solo en el primer arranque #cloud-config runcmd: - rm -rf /var/www/html/ - git clone https://github.com/asir/web-test.git /var/www/html/ - chown -R www-data:www-data /var/www/html/ bootcmd: En cada arranque #cloud-config bootcmd: - rm -rf /var/www/html/ - git clone https://github.com/asir/web-test.git /var/www/html/ - chown -R www-data:www-data /var/www/html/ \u200b En OpenStackLDV es posible introducir el user-data en el momento de crear la instancia en la pesta\u00f1a Configuration .","title":"Cloud-init"},{"location":"10-Actividades/Horizon/AccionesB%C3%A1sicas/AccionesB%C3%A1sicas/","text":"Acciones b\u00e1sicas con instancias \u00b6 Introducci\u00f3n \u00b6 En esta actividad vamos a probar a realizar algunas de las acciones que podemos hacer con una instancia. Acciones sobre a la informaci\u00f3n de la instancia \u00b6 Editar instancia : Permite cambiar el nombre de la instancia. View log : Permite acceder al log de inicio de la instancia. Console : Permite acceder a una consola VNC para administrar la instancia. Acciones sobre el ciclo de vida de la instancia \u00b6 Pause Instance : Para la ejecuci\u00f3n de la instancia guardando su estado en memoria RAM. Suspended Instance : Para la ejecuci\u00f3n de la instancia guardando su estado en memoria disco. Resume Instance : Reaunda una instancia suspendida o pausada. Shut Off Instance : Apaga una instancia. Start Instance : Inicia una instancia apagada. Soft Reboot : env\u00eda una se\u00f1al de reinicio al sistema operativo de la instancia. Hard Reboot : fuerza el reinicio de la instancia. Solo deber\u00edamos hacerlo si tenemos alg\u00fan problema con ella. Lock Instance : Bloquea la instancia par que no se pueda modificar su configuraci\u00f3n. Unlock Instance : Desbloquea la instancia par que no se pueda modificar su configuraci\u00f3n. Puedes consultar informaci\u00f3n sobre todas las acciones a realizar en Acciones con instancias de la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Compute, Instances y consulta las instancia disponibles. Sobre la instancia cirros01 en la columna de la derecha despliega las posibles acciones que se pueden realizar con ella. Prueba a realizar las siguientes acciones. Edita la instancia y cambia el nombre a asterix01 . Consulta el log de inicio de la instancia. Accede a la Consola . Pausa la instancia y observa su estado. Reanuda la instancia. Suspende la instancia y observa su estado. Reanuda la instancia. Reinicia la instancia de forma ordenada . Consulta el log de inicio. Reinicia la instancia de forma forzosa . Consulta el log de inicio. Bloquea y desbloquea la instancia. Pincha sobre el nombre de la instancia y accede a la pesta\u00f1a Actions Logs . Podr\u00e1s ver el registro de las diferentes acciones que has realizado.","title":"A06-Acciones b\u00e1sicas con instancias"},{"location":"10-Actividades/Horizon/AccionesB%C3%A1sicas/AccionesB%C3%A1sicas/#acciones-basicas-con-instancias","text":"","title":"Acciones b\u00e1sicas con instancias"},{"location":"10-Actividades/Horizon/AccionesB%C3%A1sicas/AccionesB%C3%A1sicas/#introduccion","text":"En esta actividad vamos a probar a realizar algunas de las acciones que podemos hacer con una instancia.","title":"Introducci\u00f3n"},{"location":"10-Actividades/Horizon/AccionesB%C3%A1sicas/AccionesB%C3%A1sicas/#acciones-sobre-a-la-informacion-de-la-instancia","text":"Editar instancia : Permite cambiar el nombre de la instancia. View log : Permite acceder al log de inicio de la instancia. Console : Permite acceder a una consola VNC para administrar la instancia.","title":"Acciones sobre a la informaci\u00f3n de la instancia"},{"location":"10-Actividades/Horizon/AccionesB%C3%A1sicas/AccionesB%C3%A1sicas/#acciones-sobre-el-ciclo-de-vida-de-la-instancia","text":"Pause Instance : Para la ejecuci\u00f3n de la instancia guardando su estado en memoria RAM. Suspended Instance : Para la ejecuci\u00f3n de la instancia guardando su estado en memoria disco. Resume Instance : Reaunda una instancia suspendida o pausada. Shut Off Instance : Apaga una instancia. Start Instance : Inicia una instancia apagada. Soft Reboot : env\u00eda una se\u00f1al de reinicio al sistema operativo de la instancia. Hard Reboot : fuerza el reinicio de la instancia. Solo deber\u00edamos hacerlo si tenemos alg\u00fan problema con ella. Lock Instance : Bloquea la instancia par que no se pueda modificar su configuraci\u00f3n. Unlock Instance : Desbloquea la instancia par que no se pueda modificar su configuraci\u00f3n. Puedes consultar informaci\u00f3n sobre todas las acciones a realizar en Acciones con instancias de la secci\u00f3n Conceptos .","title":"Acciones sobre el ciclo de vida de la instancia"},{"location":"10-Actividades/Horizon/AccionesB%C3%A1sicas/AccionesB%C3%A1sicas/#configuracion","text":"Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Compute, Instances y consulta las instancia disponibles. Sobre la instancia cirros01 en la columna de la derecha despliega las posibles acciones que se pueden realizar con ella. Prueba a realizar las siguientes acciones. Edita la instancia y cambia el nombre a asterix01 . Consulta el log de inicio de la instancia. Accede a la Consola . Pausa la instancia y observa su estado. Reanuda la instancia. Suspende la instancia y observa su estado. Reanuda la instancia. Reinicia la instancia de forma ordenada . Consulta el log de inicio. Reinicia la instancia de forma forzosa . Consulta el log de inicio. Bloquea y desbloquea la instancia. Pincha sobre el nombre de la instancia y accede a la pesta\u00f1a Actions Logs . Podr\u00e1s ver el registro de las diferentes acciones que has realizado.","title":"Configuraci\u00f3n"},{"location":"10-Actividades/Horizon/Borrado/Borrado/","text":"Borrado \u00b6 Introducci\u00f3n \u00b6 En esta actividad vamos a borrar los elementos creados en las p\u0155acticas anteriores: Borrar el volumen. Borrar el snapshot. Borra las instancias. Borrar el par de claves SSH. Borrar la red y el router. Borrar las reglas creadas en el grupo de seguridad default . Liberar las IPs flotantes reservadas. El objetivo es dejar el proyeco tal y como estaba antes de realizar las actividads. Configuraci\u00f3n \u00b6 Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Project, Volumes, Volumes . Sobre el volumen vol01 en la columna Actions accede a Manage Attachements y desasocia el volumen de la instancia cirros03 . Selecciona el volumen vol01 y pincha en Delete volumen para borrarlo. Accede a Project, Compute, Images . Selecciona la snapshot cirros03-sn01 y pincha en Delete Image . Accede a Project, Compute, Instances . Selecciona las cuatro instancias y pincha en Delete Instances . Accede a Project, Compute, Key Pairs . Selecciona el par de claves y pincha en Delete Key Pairs . Accede a Project, Network, Routers . Selecciona el el router router01 y pincha en Delete Routers . Accede a Project, Network, Networks . Selecciona la red red01 y pincha en Delete Networks . Accede a Project, Network, Security Groups . Sobre el grupo default pincha en Manage Rules . Borras la regla de ICMP y SSH. Accede a Project, Compute, Network, Floating IPs . Selecciona las dos IPs flotantes y pincha en Release Floating IPs . Accede a Project, Compute, Overview y observa que est\u00e1n todos los recursos disponibles.","title":"A10-Borrado de componentes"},{"location":"10-Actividades/Horizon/Borrado/Borrado/#borrado","text":"","title":"Borrado"},{"location":"10-Actividades/Horizon/Borrado/Borrado/#introduccion","text":"En esta actividad vamos a borrar los elementos creados en las p\u0155acticas anteriores: Borrar el volumen. Borrar el snapshot. Borra las instancias. Borrar el par de claves SSH. Borrar la red y el router. Borrar las reglas creadas en el grupo de seguridad default . Liberar las IPs flotantes reservadas. El objetivo es dejar el proyeco tal y como estaba antes de realizar las actividads.","title":"Introducci\u00f3n"},{"location":"10-Actividades/Horizon/Borrado/Borrado/#configuracion","text":"Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Project, Volumes, Volumes . Sobre el volumen vol01 en la columna Actions accede a Manage Attachements y desasocia el volumen de la instancia cirros03 . Selecciona el volumen vol01 y pincha en Delete volumen para borrarlo. Accede a Project, Compute, Images . Selecciona la snapshot cirros03-sn01 y pincha en Delete Image . Accede a Project, Compute, Instances . Selecciona las cuatro instancias y pincha en Delete Instances . Accede a Project, Compute, Key Pairs . Selecciona el par de claves y pincha en Delete Key Pairs . Accede a Project, Network, Routers . Selecciona el el router router01 y pincha en Delete Routers . Accede a Project, Network, Networks . Selecciona la red red01 y pincha en Delete Networks . Accede a Project, Network, Security Groups . Sobre el grupo default pincha en Manage Rules . Borras la regla de ICMP y SSH. Accede a Project, Compute, Network, Floating IPs . Selecciona las dos IPs flotantes y pincha en Release Floating IPs . Accede a Project, Compute, Overview y observa que est\u00e1n todos los recursos disponibles.","title":"Configuraci\u00f3n"},{"location":"10-Actividades/Horizon/ClavesSSH/ClavesSSH/","text":"Claves SSH \u00b6 Introducci\u00f3n \u00b6 En esta actividad vamos a: Crear un par de claves SSH y descargar la clave privada. Crear otra instancia similar a las que has creado en actividades anteriores e inyectar la clave p\u00fablica del par de claves creado. Establecer una conexi\u00f3n SSH con la instancia autentic\u00e1ndose por clave p\u00fablica. Consulta informaci\u00f3n sobre claves SSH en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Project, Compute, Key Pairs . Pincha en Create Key Pair para crear un par de claves con el nombre ssh01 . Observa que se descarga la clave privada (el cloud no almacena la clave privada, por eso se puede descargar). Crea una nueva instancia con el nombre cirros03 inyectando la clave p\u00fablica del par de claves que has creado. Para ello en el momento de la creaci\u00f3n (como has hecho en actividads anteriores) en la secci\u00f3n Key Pairs selecciona la clave ssh01 . As\u00edgnale una IP flotante a la instancia y verifica que existe la regla para permitir el acceso SSH en el grupo de seguridad default . Copia la clave privada descargada en el directorio .ssh del directorio home de tu usuario (~./ssh). Dale permisos restrictivos (600) a la clave privada. chmod 600 ~/ssh01.pem Establece la conexi\u00f3n SSH y observa que no se pide la contrase\u00f1a. ssh -i ~/ssh01.pem cirros@ipflotante En el siguiente enlace puedes ver como conectarte usando Putty como cliente.","title":"A05-Claves SSH"},{"location":"10-Actividades/Horizon/ClavesSSH/ClavesSSH/#claves-ssh","text":"","title":"Claves SSH"},{"location":"10-Actividades/Horizon/ClavesSSH/ClavesSSH/#introduccion","text":"En esta actividad vamos a: Crear un par de claves SSH y descargar la clave privada. Crear otra instancia similar a las que has creado en actividades anteriores e inyectar la clave p\u00fablica del par de claves creado. Establecer una conexi\u00f3n SSH con la instancia autentic\u00e1ndose por clave p\u00fablica. Consulta informaci\u00f3n sobre claves SSH en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/Horizon/ClavesSSH/ClavesSSH/#configuracion","text":"Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Project, Compute, Key Pairs . Pincha en Create Key Pair para crear un par de claves con el nombre ssh01 . Observa que se descarga la clave privada (el cloud no almacena la clave privada, por eso se puede descargar). Crea una nueva instancia con el nombre cirros03 inyectando la clave p\u00fablica del par de claves que has creado. Para ello en el momento de la creaci\u00f3n (como has hecho en actividads anteriores) en la secci\u00f3n Key Pairs selecciona la clave ssh01 . As\u00edgnale una IP flotante a la instancia y verifica que existe la regla para permitir el acceso SSH en el grupo de seguridad default . Copia la clave privada descargada en el directorio .ssh del directorio home de tu usuario (~./ssh). Dale permisos restrictivos (600) a la clave privada. chmod 600 ~/ssh01.pem Establece la conexi\u00f3n SSH y observa que no se pide la contrase\u00f1a. ssh -i ~/ssh01.pem cirros@ipflotante En el siguiente enlace puedes ver como conectarte usando Putty como cliente.","title":"Configuraci\u00f3n"},{"location":"10-Actividades/Horizon/CloudInit/CloudInit/","text":"Cloud Init \u00b6 Introducci\u00f3n \u00b6 En esta actividad vamos a: Consultar el servidor de metadatos desde una instancia. Crear nuevas instancias indicando configuraciones de tipo user-data en formato cloud-config para que sean le\u00eddas y aplicadas por cloud-init . Consulta informaci\u00f3n sobre servidor de metadatos y cloud-init en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Servidor de metadatos \u00b6 Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede por ssh a la instancia panoramixXX que creaste en la actividad anterior. Pruebas las siguientes consultas al servidor de metadatos. curl -w\"\\n\" 169.254.169.254 curl -w\"\\n\" 169.254.169.254/latest/ curl -w\"\\n\" 169.254.169.254/latest/meta-data curl -w\"\\n\" 169.254.169.254/latest/meta-data/hostname curl -w\"\\n\" 169.254.169.254/latest/meta-data/instance-type curl -w\"\\n\" 169.254.169.254/latest/meta-data/local-ipv4 curl -w\"\\n\" 169.254.169.254/latest/meta-data/public-ipv4 Cloud-init \u00b6 Borra la instancia panoramix . Ahora vamos a configura un user-data en formato cloud-config que realice las siguientes configuraciones sobre una nueva instancia de debian que vamos a crear. Asignar\u00e1 una clave al usuario debian . Realizar\u00e1 un apt update . Instalar\u00e1 el paquete apache2 . Crea en tu equipo un fichero con el nombre cloud-config.yaml con el siguiente contenido y crea de nuevo la instancia panoramix (con las mismas caracter\u00edsticas que antes) y antes de lanzar\u00eda accede en la pesta\u00f1a Configuration selecciona el archivo cloud-config.yaml . #cloud-config chpasswd: list: | debian:vincivinci expire: False package_update: true packages: - apache2 Espera un poco a que se realicen todas las operaciones (en actualizar paquetes e instalar apache tarda un poco). Puedes pinchar sobre el nombre de la instancia, acceder a la pesta\u00f1a Logs y posteriormente a View Full Log para ver las tareas que hace cloud-init . Si hay alg\u00fan error de sintaxis en el cloud-config aqu\u00ed lo podr\u00e1s ver. As\u00edgnale una IP flotante y el grupo de seguridad adecuado. Comprueba que ahora puedes iniciar sesi\u00f3n con el usuario debian y contrase\u00f1a vincivinci . Verifica que se ha instalado apache .","title":"A12-Cloud Init"},{"location":"10-Actividades/Horizon/CloudInit/CloudInit/#cloud-init","text":"","title":"Cloud Init"},{"location":"10-Actividades/Horizon/CloudInit/CloudInit/#introduccion","text":"En esta actividad vamos a: Consultar el servidor de metadatos desde una instancia. Crear nuevas instancias indicando configuraciones de tipo user-data en formato cloud-config para que sean le\u00eddas y aplicadas por cloud-init . Consulta informaci\u00f3n sobre servidor de metadatos y cloud-init en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/Horizon/CloudInit/CloudInit/#configuracion","text":"","title":"Configuraci\u00f3n"},{"location":"10-Actividades/Horizon/CloudInit/CloudInit/#servidor-de-metadatos","text":"Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede por ssh a la instancia panoramixXX que creaste en la actividad anterior. Pruebas las siguientes consultas al servidor de metadatos. curl -w\"\\n\" 169.254.169.254 curl -w\"\\n\" 169.254.169.254/latest/ curl -w\"\\n\" 169.254.169.254/latest/meta-data curl -w\"\\n\" 169.254.169.254/latest/meta-data/hostname curl -w\"\\n\" 169.254.169.254/latest/meta-data/instance-type curl -w\"\\n\" 169.254.169.254/latest/meta-data/local-ipv4 curl -w\"\\n\" 169.254.169.254/latest/meta-data/public-ipv4","title":"Servidor de metadatos"},{"location":"10-Actividades/Horizon/CloudInit/CloudInit/#cloud-init_1","text":"Borra la instancia panoramix . Ahora vamos a configura un user-data en formato cloud-config que realice las siguientes configuraciones sobre una nueva instancia de debian que vamos a crear. Asignar\u00e1 una clave al usuario debian . Realizar\u00e1 un apt update . Instalar\u00e1 el paquete apache2 . Crea en tu equipo un fichero con el nombre cloud-config.yaml con el siguiente contenido y crea de nuevo la instancia panoramix (con las mismas caracter\u00edsticas que antes) y antes de lanzar\u00eda accede en la pesta\u00f1a Configuration selecciona el archivo cloud-config.yaml . #cloud-config chpasswd: list: | debian:vincivinci expire: False package_update: true packages: - apache2 Espera un poco a que se realicen todas las operaciones (en actualizar paquetes e instalar apache tarda un poco). Puedes pinchar sobre el nombre de la instancia, acceder a la pesta\u00f1a Logs y posteriormente a View Full Log para ver las tareas que hace cloud-init . Si hay alg\u00fan error de sintaxis en el cloud-config aqu\u00ed lo podr\u00e1s ver. As\u00edgnale una IP flotante y el grupo de seguridad adecuado. Comprueba que ahora puedes iniciar sesi\u00f3n con el usuario debian y contrase\u00f1a vincivinci . Verifica que se ha instalado apache .","title":"Cloud-init"},{"location":"10-Actividades/Horizon/IPsFlotantesGruposSeguridad/IPsFlotantesGruposSeguridad/","text":"IPs flotantes y grupos de seguridad \u00b6 Introducci\u00f3n \u00b6 En esta actividad vamos a: Asociar una IP flotante a una de las instancias que has creado para poder acceder desde el exterior (red del instituto). Crear una nueva regla en el grupo de seguridad default para poder hacer ping a las instancias que pertenezcan a este grupo. Verificar que es posible hacer ping a la IP p\u00fablica de la instancia. Crear una nueva regla en el grupo de seguridad default para poder acceder por SSH a las instancias que pertenezcan a este grupo. Establecer una conexi\u00f3n SSH con la instancia. Consulta informaci\u00f3n sobre ips fijas e ips flotantes en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre grupos de seguridad en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 IP Flotantes \u00b6 Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Project, Compute, Instances . Pincha sobre Start Instance en cirros01 para iniciar la instancia. Accede a Project, Compute, Network, Floating IPs . Haz clic sobre Allocate IP to Project para reservar una IPs flotante. Est\u00e1s IPs en un cloud p\u00fablico ser\u00edan direcciones de Internet. En nuestro caso son direcciones de la red provider (192.16.0.0/16) , la red del instituto. Accede a Compute, Project, Instances . En la instancia cirros01 accede a Actions, Associate Floating IP . Selecciona la IP flotante a asociar el interfaz de red de la instancia con la que se asocia. Pincha en Associate . Observa la IP asociada. Abre un terminal en tu equipo y haz un ping a la IP flotante. Observa que no responde. Grupos de seguridad \u00b6 Accede a Project, Network, Security Groups . Observa las reglas del grupo default (por defecto permite todo el tr\u00e1fico de salida y acepta tr\u00e1fico ingress del grupo, pero rechaza todo el tr\u00e1fico exterior que no proceda del grupo de seguridad default ). Sobre el grupo default pincha en Manage Rules . Pincha en Add Rule y crea una regla para permitir el tr\u00e1fico ICMP de entrada desde cualquier sitio . Abre un terminal en tu equipo y haz un ping a la IP flotante y observa que ahora s\u00ed responde. Pincha en Add Rule y crea una regla para permitir el tr\u00e1fico SSH de entrada desde cualquier sitio . Abre un terminal y establece una conexi\u00f3n SSH con la instancia cirros01.. ssh cirros@ip_flotante","title":"A04-IPs Flotantes y Grupos de Seguridad"},{"location":"10-Actividades/Horizon/IPsFlotantesGruposSeguridad/IPsFlotantesGruposSeguridad/#ips-flotantes-y-grupos-de-seguridad","text":"","title":"IPs flotantes y grupos de seguridad"},{"location":"10-Actividades/Horizon/IPsFlotantesGruposSeguridad/IPsFlotantesGruposSeguridad/#introduccion","text":"En esta actividad vamos a: Asociar una IP flotante a una de las instancias que has creado para poder acceder desde el exterior (red del instituto). Crear una nueva regla en el grupo de seguridad default para poder hacer ping a las instancias que pertenezcan a este grupo. Verificar que es posible hacer ping a la IP p\u00fablica de la instancia. Crear una nueva regla en el grupo de seguridad default para poder acceder por SSH a las instancias que pertenezcan a este grupo. Establecer una conexi\u00f3n SSH con la instancia. Consulta informaci\u00f3n sobre ips fijas e ips flotantes en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre grupos de seguridad en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/Horizon/IPsFlotantesGruposSeguridad/IPsFlotantesGruposSeguridad/#configuracion","text":"","title":"Configuraci\u00f3n"},{"location":"10-Actividades/Horizon/IPsFlotantesGruposSeguridad/IPsFlotantesGruposSeguridad/#ip-flotantes","text":"Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Project, Compute, Instances . Pincha sobre Start Instance en cirros01 para iniciar la instancia. Accede a Project, Compute, Network, Floating IPs . Haz clic sobre Allocate IP to Project para reservar una IPs flotante. Est\u00e1s IPs en un cloud p\u00fablico ser\u00edan direcciones de Internet. En nuestro caso son direcciones de la red provider (192.16.0.0/16) , la red del instituto. Accede a Compute, Project, Instances . En la instancia cirros01 accede a Actions, Associate Floating IP . Selecciona la IP flotante a asociar el interfaz de red de la instancia con la que se asocia. Pincha en Associate . Observa la IP asociada. Abre un terminal en tu equipo y haz un ping a la IP flotante. Observa que no responde.","title":"IP Flotantes"},{"location":"10-Actividades/Horizon/IPsFlotantesGruposSeguridad/IPsFlotantesGruposSeguridad/#grupos-de-seguridad","text":"Accede a Project, Network, Security Groups . Observa las reglas del grupo default (por defecto permite todo el tr\u00e1fico de salida y acepta tr\u00e1fico ingress del grupo, pero rechaza todo el tr\u00e1fico exterior que no proceda del grupo de seguridad default ). Sobre el grupo default pincha en Manage Rules . Pincha en Add Rule y crea una regla para permitir el tr\u00e1fico ICMP de entrada desde cualquier sitio . Abre un terminal en tu equipo y haz un ping a la IP flotante y observa que ahora s\u00ed responde. Pincha en Add Rule y crea una regla para permitir el tr\u00e1fico SSH de entrada desde cualquier sitio . Abre un terminal y establece una conexi\u00f3n SSH con la instancia cirros01.. ssh cirros@ip_flotante","title":"Grupos de seguridad"},{"location":"10-Actividades/Horizon/Im%C3%A1genesP%C3%BAblicas/Im%C3%A1genesP%C3%BAblicas/","text":"Im\u00e1genes p\u00fablicas \u00b6 Introducci\u00f3n \u00b6 En est\u00e1 actividad vamos a consultar las im\u00e1genes p\u00fablicas disponibles en OpenStackLDV . Recuerda que una imagen es un sistema preconfigurado que se utiliza como base para crear instancias (m\u00e1quinas virtuales). Cada imagen es un fichero que contiene la estructura y contenidos completos de un dispositivo de almacenamiento (HDD, CD, DVD, etc.). Puedes consultar m\u00e1s informaci\u00f3n sobre im\u00e1genes en la secci\u00f3n Conceptos . Lo habitual en un IaaS es que existan un conjunto de im\u00e1genes gen\u00e9ricas ( cloud-images ) y p\u00fablicas (accesibles por todos los usuarios) para poder crear instancias. Configuraci\u00f3n \u00b6 Accede a Horizon. Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. En el men\u00fa de la izquierda accede a Project, Compute, Images y observa las im\u00e1genes p\u00fablicas disponibles. Pincha sobre una de ellas y observa sus caracter\u00edsticas.","title":"A01-Im\u00e1genes p\u00fablicas"},{"location":"10-Actividades/Horizon/Im%C3%A1genesP%C3%BAblicas/Im%C3%A1genesP%C3%BAblicas/#imagenes-publicas","text":"","title":"Im\u00e1genes p\u00fablicas"},{"location":"10-Actividades/Horizon/Im%C3%A1genesP%C3%BAblicas/Im%C3%A1genesP%C3%BAblicas/#introduccion","text":"En est\u00e1 actividad vamos a consultar las im\u00e1genes p\u00fablicas disponibles en OpenStackLDV . Recuerda que una imagen es un sistema preconfigurado que se utiliza como base para crear instancias (m\u00e1quinas virtuales). Cada imagen es un fichero que contiene la estructura y contenidos completos de un dispositivo de almacenamiento (HDD, CD, DVD, etc.). Puedes consultar m\u00e1s informaci\u00f3n sobre im\u00e1genes en la secci\u00f3n Conceptos . Lo habitual en un IaaS es que existan un conjunto de im\u00e1genes gen\u00e9ricas ( cloud-images ) y p\u00fablicas (accesibles por todos los usuarios) para poder crear instancias.","title":"Introducci\u00f3n"},{"location":"10-Actividades/Horizon/Im%C3%A1genesP%C3%BAblicas/Im%C3%A1genesP%C3%BAblicas/#configuracion","text":"Accede a Horizon. Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. En el men\u00fa de la izquierda accede a Project, Compute, Images y observa las im\u00e1genes p\u00fablicas disponibles. Pincha sobre una de ellas y observa sus caracter\u00edsticas.","title":"Configuraci\u00f3n"},{"location":"10-Actividades/Horizon/Instancias/Instancias/","text":"Crear instancias \u00b6 Introducci\u00f3n \u00b6 En esta actividad vamos a: Crear una instancia en tu proyecto a partir de sabor tiny usando la imagen de CirrOS . Conectar la instancia a la red01 creada en la actividad anterior. Usar la consola VNC para acceder la instancia creada y verificar su configuraci\u00f3n IP. Crear otra instancia similar y verificar que hay comunicaci\u00f3n IP entre las instancias. Consulta informaci\u00f3n sobre sabores en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre instancias en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Project, Compute, Instances . Pincha en Lauch Instance . - Introduce el nombre cirros01 y pincha en Next . Selecciona la im\u00e1gen p\u00fablica de CirrOS para crear la instancia a partir de ella y pincha en Next . Selecciona tiny como sabor y pincha en Next . Selecciona la red01 para conectar a ella la instancia y pincha en Next . Pincha en Lauch Instance para crear la instancia (el resto de opciones disponibles se dejan com su valor por defecto, se tratar\u00e1n en futuras actividads). Observa las caracter\u00edsticas de la instancia creada (imagen, sabor, estado, ...). Observa que la direcci\u00f3n IP asignada. Accede a Project, Network, Network Topology y observa la topolog\u00eda de red. Observa donde est\u00e1 conectada la instancia. Accede a Project, Compute, Instances . Pincha sobre el nombre de la instancia cirros01 y accede a la pesta\u00f1a Console . Abre en nueva pesta\u00f1a la consola usado el enlace Click here to show only console . Inicia sesi\u00f3n con el usuario cirros y la contrase\u00f1a que indica gocubsgo . Consulta la IP de la m\u00e1quina y verifica que tiene comunicaci\u00f3n con la IP 10.33.1.1 (del router01). Haz ping a una direcci\u00f3n a una IP del instituto (por ejemplo 192.168.200.100) y verifica que no hay comunicaci\u00f3n. Usa nslookup para resolver un nombre DNS y verificar que hay comunicaci\u00f3n con Internet ya que el servidor DNS al que se pregunta es el 8.8.8.8. Crea otra instancia similar con el nombre cirros02 y verifica que hay comunicaci\u00f3n IP entre las instancias. Tienes que seguir unos pasos simililares a los anteriores y verificar la IP de la nueva instancia. Accede a Project, Network, Network Topology y verifica la topolog\u00eda de red creada. En cada instancia accede a Actions (flecha hac\u00eda abajo), Shut Off Instance para apagar las instancias cirros01 y cirros02 .","title":"A03-Crear instancias"},{"location":"10-Actividades/Horizon/Instancias/Instancias/#crear-instancias","text":"","title":"Crear instancias"},{"location":"10-Actividades/Horizon/Instancias/Instancias/#introduccion","text":"En esta actividad vamos a: Crear una instancia en tu proyecto a partir de sabor tiny usando la imagen de CirrOS . Conectar la instancia a la red01 creada en la actividad anterior. Usar la consola VNC para acceder la instancia creada y verificar su configuraci\u00f3n IP. Crear otra instancia similar y verificar que hay comunicaci\u00f3n IP entre las instancias. Consulta informaci\u00f3n sobre sabores en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre instancias en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/Horizon/Instancias/Instancias/#configuracion","text":"Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Project, Compute, Instances . Pincha en Lauch Instance . - Introduce el nombre cirros01 y pincha en Next . Selecciona la im\u00e1gen p\u00fablica de CirrOS para crear la instancia a partir de ella y pincha en Next . Selecciona tiny como sabor y pincha en Next . Selecciona la red01 para conectar a ella la instancia y pincha en Next . Pincha en Lauch Instance para crear la instancia (el resto de opciones disponibles se dejan com su valor por defecto, se tratar\u00e1n en futuras actividads). Observa las caracter\u00edsticas de la instancia creada (imagen, sabor, estado, ...). Observa que la direcci\u00f3n IP asignada. Accede a Project, Network, Network Topology y observa la topolog\u00eda de red. Observa donde est\u00e1 conectada la instancia. Accede a Project, Compute, Instances . Pincha sobre el nombre de la instancia cirros01 y accede a la pesta\u00f1a Console . Abre en nueva pesta\u00f1a la consola usado el enlace Click here to show only console . Inicia sesi\u00f3n con el usuario cirros y la contrase\u00f1a que indica gocubsgo . Consulta la IP de la m\u00e1quina y verifica que tiene comunicaci\u00f3n con la IP 10.33.1.1 (del router01). Haz ping a una direcci\u00f3n a una IP del instituto (por ejemplo 192.168.200.100) y verifica que no hay comunicaci\u00f3n. Usa nslookup para resolver un nombre DNS y verificar que hay comunicaci\u00f3n con Internet ya que el servidor DNS al que se pregunta es el 8.8.8.8. Crea otra instancia similar con el nombre cirros02 y verifica que hay comunicaci\u00f3n IP entre las instancias. Tienes que seguir unos pasos simililares a los anteriores y verificar la IP de la nueva instancia. Accede a Project, Network, Network Topology y verifica la topolog\u00eda de red creada. En cada instancia accede a Actions (flecha hac\u00eda abajo), Shut Off Instance para apagar las instancias cirros01 y cirros02 .","title":"Configuraci\u00f3n"},{"location":"10-Actividades/Horizon/RedesRouters/RedesRouters/","text":"Redes y routers \u00b6 Introducci\u00f3n \u00b6 En est\u00e1 actividad vamos crear una red con direccionamiento 10.33.1.0/24 ( subred en terminolog\u00eda de OpenStack) y un router que conectar\u00e1 la red creada con la red del instituto (192.168.0.0/16) (red provider en terminolog\u00eda de OpenStackLDV ). Consulta informaci\u00f3n sobre redes, subredes y routers en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Redes y subredes \u00b6 Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. En el men\u00fa de la izquierda accede a Project, Network, Networks y observa que existe la red provider . Esta red representa a la red del instituto y es accesible desde todos los proyectos de OpenStackLDV . No es posible conectar directamente instancias a esta red, si se intenta crear una instancia conectada a est\u00e1 red se provocar\u00e1 un error y la instancia no se crear\u00e1 correctamente. Accede a Project, Network, Routers y verifica que no existe ning\u00fan router en tu proyecto. Accede a Project, Network, Network Topology y observa el diagrama con las redes y routers actuales. Solo existir\u00e1 la red provider . Accede Project, Network, Networks . Pincha en Create Networks para crear una nueva red y una nueva subred. Introduce el nombre red01 y pincha en Next . Introduce el nombre subred01 , direcci\u00f3n de red 10.33.1.0/24 , gateway 10.33.1.1 , y pincha en Next . Habilita un servidor DHCP en la red que sirva en el rango 10.33.1.10, 10.33.1.30 y otorgue 8.8.8.8 como servidor DNS . Pincha en Create para crear la red. Accede a Project, Network, Network Topology y observa el diagrama con las redes y routers actuales. Existiran las dos redes pero no est\u00e1n conectadas. Routers \u00b6 Accede Project, Network, Routers . Pincha en Create Routers para crear un nuevo router. As\u00edgnale el nombre router01 y selecciona provider como red externa. Pincha en Create para crear el router. Accede a Project, Network, Network Topology y verifica la topolog\u00eda de red. Observa que el router solo est\u00e1 conectado a la red provider . Accede Project, Network, Routers y pincha sobre el router01 . Accede a la pesta\u00f1a Interfaces y pincha en Add interface . Selecciona la red01 y introduce la IP 10.33.1.1 . Pincha en Submit para crear el interfaz. Accede a Project, Network, Network Topology y verifica la topolog\u00eda de red. Observa que se ha creado un interfaz en el router y se ha conectado con la red01 . F\u00edjate en la IP que se le ha asignado al interfaz.","title":"A02-Redes y routers"},{"location":"10-Actividades/Horizon/RedesRouters/RedesRouters/#redes-y-routers","text":"","title":"Redes y routers"},{"location":"10-Actividades/Horizon/RedesRouters/RedesRouters/#introduccion","text":"En est\u00e1 actividad vamos crear una red con direccionamiento 10.33.1.0/24 ( subred en terminolog\u00eda de OpenStack) y un router que conectar\u00e1 la red creada con la red del instituto (192.168.0.0/16) (red provider en terminolog\u00eda de OpenStackLDV ). Consulta informaci\u00f3n sobre redes, subredes y routers en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/Horizon/RedesRouters/RedesRouters/#configuracion","text":"","title":"Configuraci\u00f3n"},{"location":"10-Actividades/Horizon/RedesRouters/RedesRouters/#redes-y-subredes","text":"Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. En el men\u00fa de la izquierda accede a Project, Network, Networks y observa que existe la red provider . Esta red representa a la red del instituto y es accesible desde todos los proyectos de OpenStackLDV . No es posible conectar directamente instancias a esta red, si se intenta crear una instancia conectada a est\u00e1 red se provocar\u00e1 un error y la instancia no se crear\u00e1 correctamente. Accede a Project, Network, Routers y verifica que no existe ning\u00fan router en tu proyecto. Accede a Project, Network, Network Topology y observa el diagrama con las redes y routers actuales. Solo existir\u00e1 la red provider . Accede Project, Network, Networks . Pincha en Create Networks para crear una nueva red y una nueva subred. Introduce el nombre red01 y pincha en Next . Introduce el nombre subred01 , direcci\u00f3n de red 10.33.1.0/24 , gateway 10.33.1.1 , y pincha en Next . Habilita un servidor DHCP en la red que sirva en el rango 10.33.1.10, 10.33.1.30 y otorgue 8.8.8.8 como servidor DNS . Pincha en Create para crear la red. Accede a Project, Network, Network Topology y observa el diagrama con las redes y routers actuales. Existiran las dos redes pero no est\u00e1n conectadas.","title":"Redes y subredes"},{"location":"10-Actividades/Horizon/RedesRouters/RedesRouters/#routers","text":"Accede Project, Network, Routers . Pincha en Create Routers para crear un nuevo router. As\u00edgnale el nombre router01 y selecciona provider como red externa. Pincha en Create para crear el router. Accede a Project, Network, Network Topology y verifica la topolog\u00eda de red. Observa que el router solo est\u00e1 conectado a la red provider . Accede Project, Network, Routers y pincha sobre el router01 . Accede a la pesta\u00f1a Interfaces y pincha en Add interface . Selecciona la red01 y introduce la IP 10.33.1.1 . Pincha en Submit para crear el interfaz. Accede a Project, Network, Network Topology y verifica la topolog\u00eda de red. Observa que se ha creado un interfaz en el router y se ha conectado con la red01 . F\u00edjate en la IP que se le ha asignado al interfaz.","title":"Routers"},{"location":"10-Actividades/Horizon/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/","text":"Redimensi\u00f3n, reconstruci\u00f3n y archivado de instancias \u00b6 Introducci\u00f3n \u00b6 En esta actividad vamos a: Redimensionar una instancia existente cambiando su sabor. Reconstruir una instancia existente. Archivar una instancia para liberar sus recursos. Consulta informaci\u00f3n sobre redimensionar en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre reconstruir en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre Archivar en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Redimensionar una instancia \u00b6 Accede a las acciones de la instancia cirros02 y selecciona Resize Instance . Selecciona como nuevo sabor m1.small y observa las nuevos recursos que tendr\u00e1 la imagen. Pincha en Resize para aceptar. . En este momento OpenStack esta verificando si es posible llevarlo a cabo. Si es posible la instancia pasa al estado VERIFY_RESIZE y nos pregunta si Confirmar la redimensi\u00f3n o Revertir la redimensi\u00f3n. Confirma la redimensi\u00f3n en Confirm Resize/Migrate y observa como el sabor ha cambiado. Reconstruir una instancia \u00b6 Accede a las acciones de la instancia cirros02 y selecciona Rebuild Instance . Selecciona como nuevo imagen LDV-debian11 y cambia la descripci\u00f3n a debian01 . Pincha en Rebuild Instance para aceptar. Observa como cambia la imagen de la instancia. Cambia el nombre de la instancia a debian01 (usando la opci\u00f3n Edit Instance ). Archivar una instancia \u00b6 Accede a las acciones de la instancia debian01 y selecciona Shelve Instance . Espera a que termine el proceso. Accede a Compute, Images y observa que se ha creado una snapshot de la instancia. Accede a Compute, Instances y desarchiva la instancia usando la opci\u00f3n Unshelve Instance . Verifica el estado de la instancia es de nuevo Active y que se ha eliminado la snapshot .","title":"A08-Redimensi\u00f3n, reconstruci\u00f3n y archivado de instancias"},{"location":"10-Actividades/Horizon/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/#redimension-reconstrucion-y-archivado-de-instancias","text":"","title":"Redimensi\u00f3n, reconstruci\u00f3n y archivado de instancias"},{"location":"10-Actividades/Horizon/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/#introduccion","text":"En esta actividad vamos a: Redimensionar una instancia existente cambiando su sabor. Reconstruir una instancia existente. Archivar una instancia para liberar sus recursos. Consulta informaci\u00f3n sobre redimensionar en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre reconstruir en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre Archivar en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/Horizon/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/#configuracion","text":"Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a.","title":"Configuraci\u00f3n"},{"location":"10-Actividades/Horizon/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/#redimensionar-una-instancia","text":"Accede a las acciones de la instancia cirros02 y selecciona Resize Instance . Selecciona como nuevo sabor m1.small y observa las nuevos recursos que tendr\u00e1 la imagen. Pincha en Resize para aceptar. . En este momento OpenStack esta verificando si es posible llevarlo a cabo. Si es posible la instancia pasa al estado VERIFY_RESIZE y nos pregunta si Confirmar la redimensi\u00f3n o Revertir la redimensi\u00f3n. Confirma la redimensi\u00f3n en Confirm Resize/Migrate y observa como el sabor ha cambiado.","title":"Redimensionar una instancia"},{"location":"10-Actividades/Horizon/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/#reconstruir-una-instancia","text":"Accede a las acciones de la instancia cirros02 y selecciona Rebuild Instance . Selecciona como nuevo imagen LDV-debian11 y cambia la descripci\u00f3n a debian01 . Pincha en Rebuild Instance para aceptar. Observa como cambia la imagen de la instancia. Cambia el nombre de la instancia a debian01 (usando la opci\u00f3n Edit Instance ).","title":"Reconstruir una instancia"},{"location":"10-Actividades/Horizon/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/Redimensi%C3%B3nReconstruci%C3%B3nArchivado/#archivar-una-instancia","text":"Accede a las acciones de la instancia debian01 y selecciona Shelve Instance . Espera a que termine el proceso. Accede a Compute, Images y observa que se ha creado una snapshot de la instancia. Accede a Compute, Instances y desarchiva la instancia usando la opci\u00f3n Unshelve Instance . Verifica el estado de la instancia es de nuevo Active y que se ha eliminado la snapshot .","title":"Archivar una instancia"},{"location":"10-Actividades/Horizon/ServidorWeb/ServidorWeb/","text":"Servidor Web \u00b6 En esta actividad debes realizar una configuraci\u00f3n donde se integren las configuraciones de las actividades anteriores. Borra todas las configuraciones realizadas en las explicaciones de clase y en las pr\u00e1cticas anteriores , aseg\u00farate de haber hecho la actividad Borrado de componentes . Verifica la topolog\u00eda de red del proyecto. Crea una nueva red IP ( red-asirXX ) con el direccionamiento 172.16.XX.0/24 . Gateway : 172.16.XX.1 Servidor DHCP que asigne la siguiente configuraci\u00f3n. Rango 172.16.XX.10, 172.16.XX.30 . DNS: 8.8.8.8 . Crea un nuevo Router ( router-asirXX ) que conecte la red creara con la red Provider (red del instituto). Crea un nuevo par de claves SSH. Crea una nueva instancia (con el nombre panoramixXX ) a partir de la imagen del sistema operativo debian11 con el sabor m1.small . Asegurare de que se se conecta a la red que has creado y que se inyecta la clave p\u00fablica SSH que has creado. Asocia una IP flotante a la instancia. Crear un nuevo grupo de seguridad con el nombre gruposeguridadXX . Crea las reglas necesarias para permitir el tr\u00e1fico IMCP y el tr\u00e1fico SSH (22/TCP) de entrada a las instancias que pertenezcan al grupo. Sobre la instancia que has creado, quita el grupo de seguridad default y as\u00edgnale el nuevo grupo de seguridad. Desde tu equipo haz ping la ip flotante asignada a la instancia y establece una conexi\u00f3n por SSH. Verifica que hay conexi\u00f3n desde la instancia con Internet y que resuelve nombres DNS. Instala el servidor apache en la instancia. Realiza las configuraciones adecuadas para que puedes conectarte al servidor Apache desde el navegador de tu equipo.","title":"A11-Servidor Web"},{"location":"10-Actividades/Horizon/ServidorWeb/ServidorWeb/#servidor-web","text":"En esta actividad debes realizar una configuraci\u00f3n donde se integren las configuraciones de las actividades anteriores. Borra todas las configuraciones realizadas en las explicaciones de clase y en las pr\u00e1cticas anteriores , aseg\u00farate de haber hecho la actividad Borrado de componentes . Verifica la topolog\u00eda de red del proyecto. Crea una nueva red IP ( red-asirXX ) con el direccionamiento 172.16.XX.0/24 . Gateway : 172.16.XX.1 Servidor DHCP que asigne la siguiente configuraci\u00f3n. Rango 172.16.XX.10, 172.16.XX.30 . DNS: 8.8.8.8 . Crea un nuevo Router ( router-asirXX ) que conecte la red creara con la red Provider (red del instituto). Crea un nuevo par de claves SSH. Crea una nueva instancia (con el nombre panoramixXX ) a partir de la imagen del sistema operativo debian11 con el sabor m1.small . Asegurare de que se se conecta a la red que has creado y que se inyecta la clave p\u00fablica SSH que has creado. Asocia una IP flotante a la instancia. Crear un nuevo grupo de seguridad con el nombre gruposeguridadXX . Crea las reglas necesarias para permitir el tr\u00e1fico IMCP y el tr\u00e1fico SSH (22/TCP) de entrada a las instancias que pertenezcan al grupo. Sobre la instancia que has creado, quita el grupo de seguridad default y as\u00edgnale el nuevo grupo de seguridad. Desde tu equipo haz ping la ip flotante asignada a la instancia y establece una conexi\u00f3n por SSH. Verifica que hay conexi\u00f3n desde la instancia con Internet y que resuelve nombres DNS. Instala el servidor apache en la instancia. Realiza las configuraciones adecuadas para que puedes conectarte al servidor Apache desde el navegador de tu equipo.","title":"Servidor Web"},{"location":"10-Actividades/Horizon/SnapshotsDeInstancias/SnapshotsDeInstancias/","text":"Snapshots de instancias \u00b6 Introducci\u00f3n \u00b6 En esta actividad vamos a: Acceder a una de las instancias existentes, crear un usuario nuevo y un fichero en el directorio home del nuevo usuario. Crear un snapshot de la instancia. Crea otra instancia similar a partir del snapshot. Acceder a la instancia creada y verificar que existen el fichero y el usuario. Consulta informaci\u00f3n sobre Snapshots en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Project, Compute, Instances . Inicia la instancia cirros03 . Inicia sesi\u00f3n en la m\u00e1quina con el usuario cirros03 a trav\u00e9s de la consola o mediante una conexi\u00f3n SSH. Crea el usuario curso. sudo adduser fp Inicia sesi\u00f3n con el usuario fp. su - fp Crea el fichero hola.txt . touch curso.txt En el panel de administraci\u00f3n web, sobre la instancia cirros03 en la columna Actions pincha en Create Snapshot . As\u00edgnale el nombre cirros03-sn1 y pincha en Create Snapshot . Accede a Project, Compute, Images y observa que la snapshot se ha almacenado como una imagen con visibilibiad Private (significa que solo es visible en tu proyecto). Accede a Project, Compute, Instances . Pincha en Lauch Instance y crea otra instancia con el nombre cirros04 a partir de la snapshot creada. En el paso Source hay que selccionar como Select Boot Source la opci\u00f3n Instance Snapshot . Inicia sesi\u00f3n en cirros04 y verifica que existen el archivo y el usuario creados. Apaga la instancias cirros03 y cirros04","title":"A07-Snapshots de instancias"},{"location":"10-Actividades/Horizon/SnapshotsDeInstancias/SnapshotsDeInstancias/#snapshots-de-instancias","text":"","title":"Snapshots de instancias"},{"location":"10-Actividades/Horizon/SnapshotsDeInstancias/SnapshotsDeInstancias/#introduccion","text":"En esta actividad vamos a: Acceder a una de las instancias existentes, crear un usuario nuevo y un fichero en el directorio home del nuevo usuario. Crear un snapshot de la instancia. Crea otra instancia similar a partir del snapshot. Acceder a la instancia creada y verificar que existen el fichero y el usuario. Consulta informaci\u00f3n sobre Snapshots en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/Horizon/SnapshotsDeInstancias/SnapshotsDeInstancias/#configuracion","text":"Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Project, Compute, Instances . Inicia la instancia cirros03 . Inicia sesi\u00f3n en la m\u00e1quina con el usuario cirros03 a trav\u00e9s de la consola o mediante una conexi\u00f3n SSH. Crea el usuario curso. sudo adduser fp Inicia sesi\u00f3n con el usuario fp. su - fp Crea el fichero hola.txt . touch curso.txt En el panel de administraci\u00f3n web, sobre la instancia cirros03 en la columna Actions pincha en Create Snapshot . As\u00edgnale el nombre cirros03-sn1 y pincha en Create Snapshot . Accede a Project, Compute, Images y observa que la snapshot se ha almacenado como una imagen con visibilibiad Private (significa que solo es visible en tu proyecto). Accede a Project, Compute, Instances . Pincha en Lauch Instance y crea otra instancia con el nombre cirros04 a partir de la snapshot creada. En el paso Source hay que selccionar como Select Boot Source la opci\u00f3n Instance Snapshot . Inicia sesi\u00f3n en cirros04 y verifica que existen el archivo y el usuario creados. Apaga la instancias cirros03 y cirros04","title":"Configuraci\u00f3n"},{"location":"10-Actividades/Horizon/Vol%C3%BAmenes/Vol%C3%BAmenes/","text":"Vol\u00famenes \u00b6 Introducci\u00f3n \u00b6 En esta actividad vamos a: Crear un volumen de 1GB. Asociar el volumen a una instancia que ya est\u00e1 creada. Iniciar sesi\u00f3n en la instancia, crear una partici\u00f3n, format\u00e9arla, m\u00f3ntarla y creat un par de ficheros. Desasociar el volumen de la instancia y asociarlo a otra instancia. Consulta informaci\u00f3n sobre almacenamiento y vol\u00famenes en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Project, Volumes, Volumes . Pincha en Create Volume y crea un volumen vac\u00edo con el nombre vol1 de 1GB . Sobre el volumen credo en la columna Actions accede a Manage Attachements y asocia el volumen a la instancia cirros03 . Observa el nombre de dispositivo con el que se ha a\u00f1adido el volumen a la m\u00e1quina (en este caso /dev/vdb). Abre un terminal y establece una conexi\u00f3n SSH con la instancia cirros03 . Crea una partici\u00f3n, format\u00e9ala, m\u00f3ntala y crea un par de ficheros. sudo fdisk -l sudo fdisk /dev/vdb n p 1 Valor por defecto (2048) Valor por defecto w sudo mkfs.ext4 /dev/vdb1 sudo mkdir /mnt/data sudo mount /dev/vdb1 /mnt/data cd /mnt/data sudo touch hola.txt sudo touch adios.txt Sobre el volumen credo en la columna Actions accede a Manage Attachements y desasocia el volumen de la instancia cirros03 . Sobre el volumen credo en la columna Actions accede a Manage Attachements y asocia el volumen a la instancia cirros04 . Inicia sesi\u00f3n en cirros04 , monta el volumen y verifica que los dos ficheros est\u00e1n creados. bash sudo mkdir /mnt/data sudo mount /dev/vdb1 /mnt/data ls Apaga las instancias cirros03 y cirros04 .","title":"A09-Vol\u00famenes"},{"location":"10-Actividades/Horizon/Vol%C3%BAmenes/Vol%C3%BAmenes/#volumenes","text":"","title":"Vol\u00famenes"},{"location":"10-Actividades/Horizon/Vol%C3%BAmenes/Vol%C3%BAmenes/#introduccion","text":"En esta actividad vamos a: Crear un volumen de 1GB. Asociar el volumen a una instancia que ya est\u00e1 creada. Iniciar sesi\u00f3n en la instancia, crear una partici\u00f3n, format\u00e9arla, m\u00f3ntarla y creat un par de ficheros. Desasociar el volumen de la instancia y asociarlo a otra instancia. Consulta informaci\u00f3n sobre almacenamiento y vol\u00famenes en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/Horizon/Vol%C3%BAmenes/Vol%C3%BAmenes/#configuracion","text":"Accede a Horizon e Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede a Project, Volumes, Volumes . Pincha en Create Volume y crea un volumen vac\u00edo con el nombre vol1 de 1GB . Sobre el volumen credo en la columna Actions accede a Manage Attachements y asocia el volumen a la instancia cirros03 . Observa el nombre de dispositivo con el que se ha a\u00f1adido el volumen a la m\u00e1quina (en este caso /dev/vdb). Abre un terminal y establece una conexi\u00f3n SSH con la instancia cirros03 . Crea una partici\u00f3n, format\u00e9ala, m\u00f3ntala y crea un par de ficheros. sudo fdisk -l sudo fdisk /dev/vdb n p 1 Valor por defecto (2048) Valor por defecto w sudo mkfs.ext4 /dev/vdb1 sudo mkdir /mnt/data sudo mount /dev/vdb1 /mnt/data cd /mnt/data sudo touch hola.txt sudo touch adios.txt Sobre el volumen credo en la columna Actions accede a Manage Attachements y desasocia el volumen de la instancia cirros03 . Sobre el volumen credo en la columna Actions accede a Manage Attachements y asocia el volumen a la instancia cirros04 . Inicia sesi\u00f3n en cirros04 , monta el volumen y verifica que los dos ficheros est\u00e1n creados. bash sudo mkdir /mnt/data sudo mount /dev/vdb1 /mnt/data ls Apaga las instancias cirros03 y cirros04 .","title":"Configuraci\u00f3n"},{"location":"10-Actividades/OSC/AccionesB%C3%A1sicas-OSC/AccionesB%C3%A1sicas-OSC/","text":"Acciones b\u00e1sicas con instancias-OSC \u00b6 Introducci\u00f3n \u00b6 En esta actividad, usando OpenStack Client , vamos a probar a realizar algunas de las acciones que podemos hacer con una instancia. Acciones sobre a la informaci\u00f3n de la instancia \u00b6 Editar instancia : Permite cambiar el nombre de la instancia. View log : Permite acceder al log de inicio de la instancia. Console : Permite acceder a una consola VNC para administrar la instancia. Acciones sobre el ciclo de vida de la instancia \u00b6 Pause Instance : Para la ejecuci\u00f3n de la instancia guardando su estado en memoria RAM. Suspended Instance : Para la ejecuci\u00f3n de la instancia guardando su estado en memoria disco. Resume Instance : Reaunda una instancia suspendida o pausada. Shut Off Instance : Apaga una instancia. Start Instance : Inicia una instancia apagada. Soft Reboot : env\u00eda una se\u00f1al de reinicio al sistema operativo de la instancia. Hard Reboot : fuerza el reinicio de la instancia. Solo deber\u00edamos hacerlo si tenemos alg\u00fan problema con ella. Lock Instance : Bloquea la instancia par que no se pueda modificar su configuraci\u00f3n. Unlock Instance : Desbloquea la instancia par que no se pueda modificar su configuraci\u00f3n. Puedes consultar informaci\u00f3n sobre todas las acciones a realizar en Acciones con instancias de la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Accede a Compute, Instances y consulta las instancia disponibles. (osc)openstack server list Prueba a realizar las siguientes acciones sobre la instancia cirros01 . Edita la instancia y cambia el nombre a asterix01 . (osc)openstack server set --name asterix01 cirros01 (osc)openstack server list Consulta el log de inicio de la instancia. (osc)openstack console log show asterix01 Accede a la Consola . (osc)openstack console url show asterix01 Mostrara la URL para acceder a la consola Pausa la instancia y observa su estado. (osc)openstack server pause asterix01 (osc)openstack server list Reanuda la instancia. (osc)openstack server unpause asterix01 (osc)openstack server list Suspende la instancia y observa su estado. (osc)openstack server suspend asterix01 (osc)openstack server list Reanuda la instancia. (osc)openstack server resume asterix01 (osc) Reinicia la instancia de forma ordenada . Consulta el log de inicio. (osc)openstack server reboot asterix01 (osc)openstack console log show asterix01 (osc)openstack server list Reinicia la instancia de forma forzosa . Consulta el log de inicio. (osc)openstack server reboot --hard asterix01 (osc)openstack console log show asterix01 (osc)openstack server list Bloquea y desbloquea la instancia. (osc)openstack server lock asterix01 (osc)openstack server list (osc)openstack server unlock asterix01 Consulta el Actions Logs . Podr\u00e1s ver el registro de las diferentes acciones que has realizado. (osc)openstack server event list asterix01","title":"A06-Acciones b\u00e1sicas con instancias-OSC"},{"location":"10-Actividades/OSC/AccionesB%C3%A1sicas-OSC/AccionesB%C3%A1sicas-OSC/#acciones-basicas-con-instancias-osc","text":"","title":"Acciones b\u00e1sicas con instancias-OSC"},{"location":"10-Actividades/OSC/AccionesB%C3%A1sicas-OSC/AccionesB%C3%A1sicas-OSC/#introduccion","text":"En esta actividad, usando OpenStack Client , vamos a probar a realizar algunas de las acciones que podemos hacer con una instancia.","title":"Introducci\u00f3n"},{"location":"10-Actividades/OSC/AccionesB%C3%A1sicas-OSC/AccionesB%C3%A1sicas-OSC/#acciones-sobre-a-la-informacion-de-la-instancia","text":"Editar instancia : Permite cambiar el nombre de la instancia. View log : Permite acceder al log de inicio de la instancia. Console : Permite acceder a una consola VNC para administrar la instancia.","title":"Acciones sobre a la informaci\u00f3n de la instancia"},{"location":"10-Actividades/OSC/AccionesB%C3%A1sicas-OSC/AccionesB%C3%A1sicas-OSC/#acciones-sobre-el-ciclo-de-vida-de-la-instancia","text":"Pause Instance : Para la ejecuci\u00f3n de la instancia guardando su estado en memoria RAM. Suspended Instance : Para la ejecuci\u00f3n de la instancia guardando su estado en memoria disco. Resume Instance : Reaunda una instancia suspendida o pausada. Shut Off Instance : Apaga una instancia. Start Instance : Inicia una instancia apagada. Soft Reboot : env\u00eda una se\u00f1al de reinicio al sistema operativo de la instancia. Hard Reboot : fuerza el reinicio de la instancia. Solo deber\u00edamos hacerlo si tenemos alg\u00fan problema con ella. Lock Instance : Bloquea la instancia par que no se pueda modificar su configuraci\u00f3n. Unlock Instance : Desbloquea la instancia par que no se pueda modificar su configuraci\u00f3n. Puedes consultar informaci\u00f3n sobre todas las acciones a realizar en Acciones con instancias de la secci\u00f3n Conceptos .","title":"Acciones sobre el ciclo de vida de la instancia"},{"location":"10-Actividades/OSC/AccionesB%C3%A1sicas-OSC/AccionesB%C3%A1sicas-OSC/#configuracion","text":"Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Accede a Compute, Instances y consulta las instancia disponibles. (osc)openstack server list Prueba a realizar las siguientes acciones sobre la instancia cirros01 . Edita la instancia y cambia el nombre a asterix01 . (osc)openstack server set --name asterix01 cirros01 (osc)openstack server list Consulta el log de inicio de la instancia. (osc)openstack console log show asterix01 Accede a la Consola . (osc)openstack console url show asterix01 Mostrara la URL para acceder a la consola Pausa la instancia y observa su estado. (osc)openstack server pause asterix01 (osc)openstack server list Reanuda la instancia. (osc)openstack server unpause asterix01 (osc)openstack server list Suspende la instancia y observa su estado. (osc)openstack server suspend asterix01 (osc)openstack server list Reanuda la instancia. (osc)openstack server resume asterix01 (osc) Reinicia la instancia de forma ordenada . Consulta el log de inicio. (osc)openstack server reboot asterix01 (osc)openstack console log show asterix01 (osc)openstack server list Reinicia la instancia de forma forzosa . Consulta el log de inicio. (osc)openstack server reboot --hard asterix01 (osc)openstack console log show asterix01 (osc)openstack server list Bloquea y desbloquea la instancia. (osc)openstack server lock asterix01 (osc)openstack server list (osc)openstack server unlock asterix01 Consulta el Actions Logs . Podr\u00e1s ver el registro de las diferentes acciones que has realizado. (osc)openstack server event list asterix01","title":"Configuraci\u00f3n"},{"location":"10-Actividades/OSC/Borrado-OSC/Borrado-OSC/","text":"Borrado-OSC \u00b6 Introducci\u00f3n \u00b6 En esta actividad, , usando OpenStack Client , vamos a borrar los elementos creados en las p\u0155acticas anteriores: Borrar el volumen. Borrar el snapshot. Borra las instancias. Borrar el par de claves SSH. Borrar la red y el router. Borrar las reglas creadas en el grupo de seguridad default . Liberar las IPs flotantes reservadas. El objetivo es dejar el proyeco tal y como estaba antes de realizar las actividads. Configuraci\u00f3n \u00b6 Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Consulta los volumenes disponibles. (osc)openstack volume list Desasocia el volumen vol1 de la instancia cirros04 . (osc)openstack server remove volume cirros04 vol1 Borra el volumen vol1 . (osc)openstack volume delete vol1 (osc)openstack volume list Consulta las instancia disponibles (osc)openstack server list Borra la 4 instancias (osc)openstack server delete asterix01 (osc)openstack server delete debian01 (osc)openstack server delete cirros03 (osc)openstack server delete cirros04 Consulta las im\u00e1genes dispoibles. (osc)openstack image list Borra la snapshot cirros03-sn1 (osc)openstack image delete cirros03-sn1 Consulta los pares de claves. (osc)openstack key list Borra el par de claves. (osc)openstack key delete ssh01 Consulta los routers. (osc)openstack router list Consulta la informaci\u00f3n del router01 . (osc)openstack router show router01 Borra el puerto asiciado al interaz con IP 10.33.1.1 openstack router remove port router01 5ee21dc8-c356-40ab-bf83-7fe345f59942 Borra el router01 . (osc)openstack router delete router01 (osc)openstack router list Consulta las redes. (osc)openstack network list Borra la red01 . (osc)openstack network delete red01 (osc)openstack network list Consulta las reglas del grupo de seguridad default . (osc) openstack security group rule list default Borra la regla de ICMP y SSH. (osc) openstack security group rule delete cd21dacd-916a-4e9b-9fb1-8ce48c82eca6 (osc) openstack security group rule delete cd21dacd-916a-4e9b-9fb1-8ce48c82eca6 (osc) openstack security group rule list default Consulta las IPs flotantes. (osc)openstack floating ip list Libera las IPs flotantes. (osc)openstack floating ip delete 192.168.211.183 (osc)openstack floating ip delete 192.168.211.75","title":"A10-Borrado de componentes-OSC"},{"location":"10-Actividades/OSC/Borrado-OSC/Borrado-OSC/#borrado-osc","text":"","title":"Borrado-OSC"},{"location":"10-Actividades/OSC/Borrado-OSC/Borrado-OSC/#introduccion","text":"En esta actividad, , usando OpenStack Client , vamos a borrar los elementos creados en las p\u0155acticas anteriores: Borrar el volumen. Borrar el snapshot. Borra las instancias. Borrar el par de claves SSH. Borrar la red y el router. Borrar las reglas creadas en el grupo de seguridad default . Liberar las IPs flotantes reservadas. El objetivo es dejar el proyeco tal y como estaba antes de realizar las actividads.","title":"Introducci\u00f3n"},{"location":"10-Actividades/OSC/Borrado-OSC/Borrado-OSC/#configuracion","text":"Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Consulta los volumenes disponibles. (osc)openstack volume list Desasocia el volumen vol1 de la instancia cirros04 . (osc)openstack server remove volume cirros04 vol1 Borra el volumen vol1 . (osc)openstack volume delete vol1 (osc)openstack volume list Consulta las instancia disponibles (osc)openstack server list Borra la 4 instancias (osc)openstack server delete asterix01 (osc)openstack server delete debian01 (osc)openstack server delete cirros03 (osc)openstack server delete cirros04 Consulta las im\u00e1genes dispoibles. (osc)openstack image list Borra la snapshot cirros03-sn1 (osc)openstack image delete cirros03-sn1 Consulta los pares de claves. (osc)openstack key list Borra el par de claves. (osc)openstack key delete ssh01 Consulta los routers. (osc)openstack router list Consulta la informaci\u00f3n del router01 . (osc)openstack router show router01 Borra el puerto asiciado al interaz con IP 10.33.1.1 openstack router remove port router01 5ee21dc8-c356-40ab-bf83-7fe345f59942 Borra el router01 . (osc)openstack router delete router01 (osc)openstack router list Consulta las redes. (osc)openstack network list Borra la red01 . (osc)openstack network delete red01 (osc)openstack network list Consulta las reglas del grupo de seguridad default . (osc) openstack security group rule list default Borra la regla de ICMP y SSH. (osc) openstack security group rule delete cd21dacd-916a-4e9b-9fb1-8ce48c82eca6 (osc) openstack security group rule delete cd21dacd-916a-4e9b-9fb1-8ce48c82eca6 (osc) openstack security group rule list default Consulta las IPs flotantes. (osc)openstack floating ip list Libera las IPs flotantes. (osc)openstack floating ip delete 192.168.211.183 (osc)openstack floating ip delete 192.168.211.75","title":"Configuraci\u00f3n"},{"location":"10-Actividades/OSC/ClavesSSH-OSC/ClavesSSH-OSC/","text":"Claves SSH-OSC \u00b6 Introducci\u00f3n \u00b6 En esta actividad, usando OpenStack Client , vamos a: Crear un par de claves SSH y descargar la clave privada. Crear otra instancia similar a las que has creado en actividads anteriores e inyectar la clave p\u00fablica del par de claves creado. Establecer una conexi\u00f3n SSH con la instancia autentic\u00e1ndose por clave p\u00fablica. Consulta informaci\u00f3n sobre claves SSH en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Consulta las claves ssh disponibles. (osc) openstack keypair list Crea un par de claves con el con el nombre ssh01 y descarga la clave privada en tu equipo. (osc)openstack keypair create ssh01 > ssh01.pem Consulta las claves ssh disponibles. (osc) openstack keypair list Crea una nueva instancia con el nombre cirros03 inyectando la clave p\u00fablica del par de claves que has creado. (osc) openstack server create --flavor m1.tiny --image LDV-cirros0.5.2-x86_64 --network red01 --key-name ssh01 cirros03 (osc) openstack server list As\u00edgnale una IP flotante a la instancia y verifica que existe la regla para permitir el acceso SSH en el grupo de seguridad default . Consulta las IPs flotantes asignadas al proyecto. (osc)openstack floating ip list Reserva una IPs flotante. Est\u00e1s IPs en un cloud p\u00fablico ser\u00edan direcciones de Internet. En nuestro caso son direcciones de la red provider (192.16.0.0/16) , la red del instituto. (osc)openstack floating ip create provider (osc)openstack floating ip list Asocia la IP flotante asignada a la instancia cirros03 . (osc)openstack server add floating ip cirros03 192.168.211.125 Observa la IP asociada. (osc)openstack server list Consulta los grupos de seguridad. (osc) openstack security group list Consulta las reglas del grupo default . (osc) openstack security group rule list default Abre un terminal en tu equipo y haz un ping a la IP flotante. Copia la clave privada descargada en el directorio .ssh del directorio home de tu usuario (~./ssh). Dale permisos restrictivos (600) a la clave privada. chmod 600 ~/ssh01.pem Establece la conexi\u00f3n SSH y observa que no se pide la contrase\u00f1a. ssh -i ~/ssh01.pem cirros@ipflotante En el siguiente enlace purdes ver como conectarte usando Putty como cliente.","title":"A05-Claves SSH-OSC"},{"location":"10-Actividades/OSC/ClavesSSH-OSC/ClavesSSH-OSC/#claves-ssh-osc","text":"","title":"Claves SSH-OSC"},{"location":"10-Actividades/OSC/ClavesSSH-OSC/ClavesSSH-OSC/#introduccion","text":"En esta actividad, usando OpenStack Client , vamos a: Crear un par de claves SSH y descargar la clave privada. Crear otra instancia similar a las que has creado en actividads anteriores e inyectar la clave p\u00fablica del par de claves creado. Establecer una conexi\u00f3n SSH con la instancia autentic\u00e1ndose por clave p\u00fablica. Consulta informaci\u00f3n sobre claves SSH en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/OSC/ClavesSSH-OSC/ClavesSSH-OSC/#configuracion","text":"Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Consulta las claves ssh disponibles. (osc) openstack keypair list Crea un par de claves con el con el nombre ssh01 y descarga la clave privada en tu equipo. (osc)openstack keypair create ssh01 > ssh01.pem Consulta las claves ssh disponibles. (osc) openstack keypair list Crea una nueva instancia con el nombre cirros03 inyectando la clave p\u00fablica del par de claves que has creado. (osc) openstack server create --flavor m1.tiny --image LDV-cirros0.5.2-x86_64 --network red01 --key-name ssh01 cirros03 (osc) openstack server list As\u00edgnale una IP flotante a la instancia y verifica que existe la regla para permitir el acceso SSH en el grupo de seguridad default . Consulta las IPs flotantes asignadas al proyecto. (osc)openstack floating ip list Reserva una IPs flotante. Est\u00e1s IPs en un cloud p\u00fablico ser\u00edan direcciones de Internet. En nuestro caso son direcciones de la red provider (192.16.0.0/16) , la red del instituto. (osc)openstack floating ip create provider (osc)openstack floating ip list Asocia la IP flotante asignada a la instancia cirros03 . (osc)openstack server add floating ip cirros03 192.168.211.125 Observa la IP asociada. (osc)openstack server list Consulta los grupos de seguridad. (osc) openstack security group list Consulta las reglas del grupo default . (osc) openstack security group rule list default Abre un terminal en tu equipo y haz un ping a la IP flotante. Copia la clave privada descargada en el directorio .ssh del directorio home de tu usuario (~./ssh). Dale permisos restrictivos (600) a la clave privada. chmod 600 ~/ssh01.pem Establece la conexi\u00f3n SSH y observa que no se pide la contrase\u00f1a. ssh -i ~/ssh01.pem cirros@ipflotante En el siguiente enlace purdes ver como conectarte usando Putty como cliente.","title":"Configuraci\u00f3n"},{"location":"10-Actividades/OSC/CloudInit-OSC/CloudInit-OSC/","text":"Cloud Init-OSC \u00b6 Introducci\u00f3n \u00b6 En esta actividad, usando OpenStack Client , vamos a: Consultar el servidor de metadatos desde una instancia. Crear nuevas instancias indicando configuraciones de tipo user-data en formato cloud-config para que sean le\u00eddas y aplicadas por cloud-init . Consulta informaci\u00f3n sobre servidor de metadatos y cloud-init en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Servidor de metadatos \u00b6 Accede por ssh a la instancia panoramixXX que creaste en la actividad anterior. Pruebas las siguientes consultas al servidor de metadatos. curl -w\"\\n\" 169.254.169.254 curl -w\"\\n\" 169.254.169.254/latest/ curl -w\"\\n\" 169.254.169.254/latest/meta-data curl -w\"\\n\" 169.254.169.254/latest/meta-data/hostname curl -w\"\\n\" 169.254.169.254/latest/meta-data/instance-type curl -w\"\\n\" 169.254.169.254/latest/meta-data/local-ipv4 curl -w\"\\n\" 169.254.169.254/latest/meta-data/public-ipv4 Cloud-init \u00b6 Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Borra la instancia panoramix . (osc)opestack server delete panomarix Ahora vamos a configura un user-data en formato cloud-config que realice las siguientes configuraciones sobre una nueva instancia de debian que vamos a crear. Asignar\u00e1 una clave al usuario debian . Realizar\u00e1 un apt update . Instalar\u00e1 el paquete apache2 . Crea en tu equipo un fichero con el nombre cloud-config.yaml con el siguiente contenido . #cloud-config chpasswd: list: | debian:vincivinci expire: False package_update: true packages: - apache2 Crea de nuevo la instancia panoramix (con las mismas caracter\u00edsticas que antes). (osc) openstack server create \\ --flavor m1.tiny \\ --image LDV-debian11-x86_64\\ --network red-asir01 \\ --key-name ssh01 \\ --user-data cloud-config.yaml\\ panoramix01 (osc) openstack server list Espera un poco a que se realicen todas las operaciones (en actualizar paquetes e instalar apache tarda un poco). Puedes consultar el Log para ver las tareas que hace cloud-init . Si hay alg\u00fan error de sintaxis en el cloud-config aqu\u00ed lo podr\u00e1s ver. As\u00edgnale una IP flotante y el grupo de seguridad adecuado. Comprueba que ahora puedes iniciar sesi\u00f3n con el usuario debian y contrase\u00f1a vincivinci . Verifica que se ha instalado apache .","title":"A12-Cloud Init-OSC"},{"location":"10-Actividades/OSC/CloudInit-OSC/CloudInit-OSC/#cloud-init-osc","text":"","title":"Cloud Init-OSC"},{"location":"10-Actividades/OSC/CloudInit-OSC/CloudInit-OSC/#introduccion","text":"En esta actividad, usando OpenStack Client , vamos a: Consultar el servidor de metadatos desde una instancia. Crear nuevas instancias indicando configuraciones de tipo user-data en formato cloud-config para que sean le\u00eddas y aplicadas por cloud-init . Consulta informaci\u00f3n sobre servidor de metadatos y cloud-init en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/OSC/CloudInit-OSC/CloudInit-OSC/#configuracion","text":"","title":"Configuraci\u00f3n"},{"location":"10-Actividades/OSC/CloudInit-OSC/CloudInit-OSC/#servidor-de-metadatos","text":"Accede por ssh a la instancia panoramixXX que creaste en la actividad anterior. Pruebas las siguientes consultas al servidor de metadatos. curl -w\"\\n\" 169.254.169.254 curl -w\"\\n\" 169.254.169.254/latest/ curl -w\"\\n\" 169.254.169.254/latest/meta-data curl -w\"\\n\" 169.254.169.254/latest/meta-data/hostname curl -w\"\\n\" 169.254.169.254/latest/meta-data/instance-type curl -w\"\\n\" 169.254.169.254/latest/meta-data/local-ipv4 curl -w\"\\n\" 169.254.169.254/latest/meta-data/public-ipv4","title":"Servidor de metadatos"},{"location":"10-Actividades/OSC/CloudInit-OSC/CloudInit-OSC/#cloud-init","text":"Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Borra la instancia panoramix . (osc)opestack server delete panomarix Ahora vamos a configura un user-data en formato cloud-config que realice las siguientes configuraciones sobre una nueva instancia de debian que vamos a crear. Asignar\u00e1 una clave al usuario debian . Realizar\u00e1 un apt update . Instalar\u00e1 el paquete apache2 . Crea en tu equipo un fichero con el nombre cloud-config.yaml con el siguiente contenido . #cloud-config chpasswd: list: | debian:vincivinci expire: False package_update: true packages: - apache2 Crea de nuevo la instancia panoramix (con las mismas caracter\u00edsticas que antes). (osc) openstack server create \\ --flavor m1.tiny \\ --image LDV-debian11-x86_64\\ --network red-asir01 \\ --key-name ssh01 \\ --user-data cloud-config.yaml\\ panoramix01 (osc) openstack server list Espera un poco a que se realicen todas las operaciones (en actualizar paquetes e instalar apache tarda un poco). Puedes consultar el Log para ver las tareas que hace cloud-init . Si hay alg\u00fan error de sintaxis en el cloud-config aqu\u00ed lo podr\u00e1s ver. As\u00edgnale una IP flotante y el grupo de seguridad adecuado. Comprueba que ahora puedes iniciar sesi\u00f3n con el usuario debian y contrase\u00f1a vincivinci . Verifica que se ha instalado apache .","title":"Cloud-init"},{"location":"10-Actividades/OSC/IPsFlotantesGruposSeguridad-OSC/IPsFlotantesGruposSeguridad-OSC/","text":"IPs flotantes y grupos de seguridad-OSC \u00b6 Introducci\u00f3n \u00b6 En esta actividad, usando OpenStack Client , vamos a: Asociar una IP flotante a una de las instancias que has creado para poder acceder desde el exterior (red del instituto). Crear una nueva regla en el grupo de seguridad default para poder hacer ping a las instancias que pertenezcan a este grupo. Verificar que es posible hacer ping a la IP p\u00fablica de la instancia. Crear una nueva regla en el grupo de seguridad default para poder acceder por SSH a las instancias que pertenezcan a este grupo. Establecer una conexi\u00f3n SSH con la instancia. Consulta informaci\u00f3n sobre ips fijas e ips flotantes en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre grupos de seguridad en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 IP Flotantes \u00b6 Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Inicia la instancia cirros01 . (osc)openstack server start cirros01 (osc)openstack server list Consulta las IPs flotantes asignadas al proyecto. (osc)openstack floating ip list Reserva una IPs flotante. Est\u00e1s IPs en un cloud p\u00fablico ser\u00edan direcciones de Internet. En nuestro caso son direcciones de la red provider (192.16.0.0/16) , la red del instituto. (osc)openstack floating ip create provider (osc)openstack floating ip list Asocia la IP flotante asignada a la instancia cirros01 . (osc)openstack server add floating ip cirros01 192.168.211.125 Observa la IP asociada. (osc)openstack server list Abre un terminal en tu equipo y haz un ping a la IP flotante. Observa que no responde. Grupos de seguridad \u00b6 Consulta los grupos de seguridad. (osc) openstack security group list Consulta las reglas del grupo default (por defecto permite todo el tr\u00e1fico de salida y acepta tr\u00e1fico ingress del grupo, pero rechaza todo el tr\u00e1fico exterior que no proceda del grupo de seguridad default ). (osc) openstack security group rule list default Crea una regla al grupo de seguridad default para permitir el tr\u00e1fico ICMP de entrada desde cualquier sitio . (osc) openstack security group rule create --protocol icm --remote-ip 0.0.0.0/0 default (osc) openstack security group rule list default Abre un terminal en tu equipo y haz un ping a la IP flotante y observa que ahora s\u00ed responde. Crea una regla al grupo de seguridad default para permitir el tr\u00e1fico SSH (22/TCP) de entrada desde cualquier sitio . (osc) openstack security group rule create --protocol tcp --remote-ip 0.0.0.0/0 --dst-port 22 default (osc) openstack security group rule list default Abre un terminal y establece una conexi\u00f3n SSH con la instancia cirros01.. ssh cirros@ip_flotante","title":"A04-IPs Flotantes y Grupos de Seguridad-OSC"},{"location":"10-Actividades/OSC/IPsFlotantesGruposSeguridad-OSC/IPsFlotantesGruposSeguridad-OSC/#ips-flotantes-y-grupos-de-seguridad-osc","text":"","title":"IPs flotantes y grupos de seguridad-OSC"},{"location":"10-Actividades/OSC/IPsFlotantesGruposSeguridad-OSC/IPsFlotantesGruposSeguridad-OSC/#introduccion","text":"En esta actividad, usando OpenStack Client , vamos a: Asociar una IP flotante a una de las instancias que has creado para poder acceder desde el exterior (red del instituto). Crear una nueva regla en el grupo de seguridad default para poder hacer ping a las instancias que pertenezcan a este grupo. Verificar que es posible hacer ping a la IP p\u00fablica de la instancia. Crear una nueva regla en el grupo de seguridad default para poder acceder por SSH a las instancias que pertenezcan a este grupo. Establecer una conexi\u00f3n SSH con la instancia. Consulta informaci\u00f3n sobre ips fijas e ips flotantes en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre grupos de seguridad en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/OSC/IPsFlotantesGruposSeguridad-OSC/IPsFlotantesGruposSeguridad-OSC/#configuracion","text":"","title":"Configuraci\u00f3n"},{"location":"10-Actividades/OSC/IPsFlotantesGruposSeguridad-OSC/IPsFlotantesGruposSeguridad-OSC/#ip-flotantes","text":"Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Inicia la instancia cirros01 . (osc)openstack server start cirros01 (osc)openstack server list Consulta las IPs flotantes asignadas al proyecto. (osc)openstack floating ip list Reserva una IPs flotante. Est\u00e1s IPs en un cloud p\u00fablico ser\u00edan direcciones de Internet. En nuestro caso son direcciones de la red provider (192.16.0.0/16) , la red del instituto. (osc)openstack floating ip create provider (osc)openstack floating ip list Asocia la IP flotante asignada a la instancia cirros01 . (osc)openstack server add floating ip cirros01 192.168.211.125 Observa la IP asociada. (osc)openstack server list Abre un terminal en tu equipo y haz un ping a la IP flotante. Observa que no responde.","title":"IP Flotantes"},{"location":"10-Actividades/OSC/IPsFlotantesGruposSeguridad-OSC/IPsFlotantesGruposSeguridad-OSC/#grupos-de-seguridad","text":"Consulta los grupos de seguridad. (osc) openstack security group list Consulta las reglas del grupo default (por defecto permite todo el tr\u00e1fico de salida y acepta tr\u00e1fico ingress del grupo, pero rechaza todo el tr\u00e1fico exterior que no proceda del grupo de seguridad default ). (osc) openstack security group rule list default Crea una regla al grupo de seguridad default para permitir el tr\u00e1fico ICMP de entrada desde cualquier sitio . (osc) openstack security group rule create --protocol icm --remote-ip 0.0.0.0/0 default (osc) openstack security group rule list default Abre un terminal en tu equipo y haz un ping a la IP flotante y observa que ahora s\u00ed responde. Crea una regla al grupo de seguridad default para permitir el tr\u00e1fico SSH (22/TCP) de entrada desde cualquier sitio . (osc) openstack security group rule create --protocol tcp --remote-ip 0.0.0.0/0 --dst-port 22 default (osc) openstack security group rule list default Abre un terminal y establece una conexi\u00f3n SSH con la instancia cirros01.. ssh cirros@ip_flotante","title":"Grupos de seguridad"},{"location":"10-Actividades/OSC/Im%C3%A1genesP%C3%BAblicas-OSC/Im%C3%A1genesP%C3%BAblicas-OSC/","text":"Im\u00e1genes p\u00fablicas-OSC \u00b6 Introducci\u00f3n \u00b6 En est\u00e1 actividad vamos a consultar las im\u00e1genes p\u00fablicas disponibles en OpenStackLDV usando OpenStack Client . Recuerda que una imagen es un sistema preconfigurado que se utiliza como base para crear instancias (m\u00e1quinas virtuales). Cada imagen es un fichero que contiene la estructura y contenidos completos de un dispositivo de almacenamiento (HDD, CD, DVD, etc.). Puedes consultar m\u00e1s informaci\u00f3n sobre im\u00e1genes en la secci\u00f3n Conceptos . Lo habitual en un IaaS es que existan un conjunto de im\u00e1genes gen\u00e9ricas ( cloud-images ) y p\u00fablicas (accesibles por todos los usuarios) para poder crear instancias. Configuraci\u00f3n \u00b6 Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Consulta las im\u00e1genes y observa las im\u00e1genes p\u00fablicas disponibles. (osc) openstack image list Consulta una de ellas, puedes usar su id o su nombre, y observa sus caracter\u00edsticas. (osc) openstack image show 646a3e52-848d-4e8e-bcec-509022fa5b4b (osc) openstack image show LDV-cirros0.5.2-x86_64","title":"A01-Im\u00e1genes p\u00fablicas-OSC"},{"location":"10-Actividades/OSC/Im%C3%A1genesP%C3%BAblicas-OSC/Im%C3%A1genesP%C3%BAblicas-OSC/#imagenes-publicas-osc","text":"","title":"Im\u00e1genes p\u00fablicas-OSC"},{"location":"10-Actividades/OSC/Im%C3%A1genesP%C3%BAblicas-OSC/Im%C3%A1genesP%C3%BAblicas-OSC/#introduccion","text":"En est\u00e1 actividad vamos a consultar las im\u00e1genes p\u00fablicas disponibles en OpenStackLDV usando OpenStack Client . Recuerda que una imagen es un sistema preconfigurado que se utiliza como base para crear instancias (m\u00e1quinas virtuales). Cada imagen es un fichero que contiene la estructura y contenidos completos de un dispositivo de almacenamiento (HDD, CD, DVD, etc.). Puedes consultar m\u00e1s informaci\u00f3n sobre im\u00e1genes en la secci\u00f3n Conceptos . Lo habitual en un IaaS es que existan un conjunto de im\u00e1genes gen\u00e9ricas ( cloud-images ) y p\u00fablicas (accesibles por todos los usuarios) para poder crear instancias.","title":"Introducci\u00f3n"},{"location":"10-Actividades/OSC/Im%C3%A1genesP%C3%BAblicas-OSC/Im%C3%A1genesP%C3%BAblicas-OSC/#configuracion","text":"Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Consulta las im\u00e1genes y observa las im\u00e1genes p\u00fablicas disponibles. (osc) openstack image list Consulta una de ellas, puedes usar su id o su nombre, y observa sus caracter\u00edsticas. (osc) openstack image show 646a3e52-848d-4e8e-bcec-509022fa5b4b (osc) openstack image show LDV-cirros0.5.2-x86_64","title":"Configuraci\u00f3n"},{"location":"10-Actividades/OSC/Instalacion-OSC/Instalacion-OSC/","text":"Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) \u00b6 Introducci\u00f3n \u00b6 En esta actividad vamos a instalar y configurar OpenStack Client (OSC) ( https://docs.openstack.org/python-openstackclient/latest/) , un cliente en l\u00ednea de comandos que nos permite interactuar con las APIs de Openstack y realizar operaciones de administraci\u00f3n y configuraci\u00f3n. Esta desarrollado en Python3 , para poder usarlo es necesario por lo tanto tener instalada esta versi\u00f3n de Python. Es posible instalarlo directamente en el SO o dentro de un entorno virtual de python ( https://docs.python.org/es/3/tutorial/venv.html) ). Se muestra a continuaci\u00f3n tres posibles instalaciones sobre un sistema operativo Ubuntu. Instalaci\u00f3n en un entorno virtual de Pyhon . Opci\u00f3n recomendada si no quieres que las librer\u00edas interfieran con las de tu sistema. Instalaci\u00f3n directamente sobre el sistema operativo usando PIP (el sistema de gesti\u00f3n de paquetes de python). Instalaci\u00f3n directamente sobre el sistema operativo usando apt . Una vez instalado veremos como realizar una configuraci\u00f3n inicial para operar con nuestro usuario y proyecto de OpenstackLDV . Configuraci\u00f3n \u00b6 Instalaci\u00f3n en un entorno vitual de Python (recomendado) \u00b6 Instala python3. sudo apt update sudo apt install python3 Instala es gestor de paquetes de python y el paquete para usar entornos virtuales sudo apt install python3-pip sudo apt-get install python3-venv Crea un entorno virtual python3 -m venv osc Esto crea una carpeta en el directorio actual con el nombre del entorno ( osc/ ). Esta carpeta contiene los directorios para instalar m\u00f3dulos y ejecutables de Python. Activa el entorno source osc/bin/activate (osc) Actualiza pip, el gestor de paquetes de pyton. (osc)pip install -U pip Instala usando pip. (osc)pip install python-openstackclient Prueba la versi\u00f3n instalada. (osc)openstack --version Puedes salir del entorno virtual con. (osc)deactivate $ Instalaci\u00f3n directamente sobre el sistema operativo usando PIP \u00b6 Instala python3. sudo apt update sudo apt install python3 Instala es gestor de paquetes de python. sudo apt install python3-pip Actualiza pip, el gestor de paquetes de pyton. pip3 install -U pip Instala usando pip. pip3 install python-openstackclient Verifica que se ha instalado correctamente. opestack --version Instalaci\u00f3n directamente sobre el sistema operativo usando apt \u00b6 Instala el paquete. sudo apt update sudo apt install python3-openstackclient Verifica que se ha instalado correctamente. opestack --version Configuraci\u00f3n inicial \u00b6 Para poder desde OSC atenticarnos en OpenstackLDV con nuestro usuario en un proyecto es necesario dispone de un fichero de credenciales con un conjunto de variables de entorno creadas. Es posible crearlo a mano (https://docs.openstack.org/python-openstackclient/rocky/configuration/index.html#configuration-files ) o descargarlo desde nuestro perfil de Horiz\u00f3n. Vamos a descargarlo y usarlo. Los ejemplos que se muestran a continuaci\u00f3n est\u00e1s basados en la instalaci\u00f3n usando un entorno virtual. Accede a Horizon. Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede la parte superior derecha en el nombre de tu usuario y descarga el archivo OpenStack RC File v3 en tu carpeta personal. Vamos a cargar las variables de entorno del fichero usando el fichero que te has descargado. (osc)$ source /home/<tu_home/2asir.alumno00-openrc.sh Please enter your OpenStack Password for project 2asir.alumno00 as user 2asir.alumno00: Nos pedir\u00e1 la contrase\u00f1a del usuario con el que nos hemos logado. Ahora podemos usar el comando openstack para gestionar los recursos de nuestro proyecto. Ver las instancias (osc)openstack sever list Proyecto activo (osc)openstack project list Mostrar informaci\u00f3n de tu proyecto. (osc) openstack project show 2asir.alumno00 Consular la ayuda (os)$ openstack help","title":"A00-Instalaci\u00f3n y configuraci\u00f3n inicial"},{"location":"10-Actividades/OSC/Instalacion-OSC/Instalacion-OSC/#instalacion-y-configuracion-inicial-de-openstack-client-osc","text":"","title":"Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC)"},{"location":"10-Actividades/OSC/Instalacion-OSC/Instalacion-OSC/#introduccion","text":"En esta actividad vamos a instalar y configurar OpenStack Client (OSC) ( https://docs.openstack.org/python-openstackclient/latest/) , un cliente en l\u00ednea de comandos que nos permite interactuar con las APIs de Openstack y realizar operaciones de administraci\u00f3n y configuraci\u00f3n. Esta desarrollado en Python3 , para poder usarlo es necesario por lo tanto tener instalada esta versi\u00f3n de Python. Es posible instalarlo directamente en el SO o dentro de un entorno virtual de python ( https://docs.python.org/es/3/tutorial/venv.html) ). Se muestra a continuaci\u00f3n tres posibles instalaciones sobre un sistema operativo Ubuntu. Instalaci\u00f3n en un entorno virtual de Pyhon . Opci\u00f3n recomendada si no quieres que las librer\u00edas interfieran con las de tu sistema. Instalaci\u00f3n directamente sobre el sistema operativo usando PIP (el sistema de gesti\u00f3n de paquetes de python). Instalaci\u00f3n directamente sobre el sistema operativo usando apt . Una vez instalado veremos como realizar una configuraci\u00f3n inicial para operar con nuestro usuario y proyecto de OpenstackLDV .","title":"Introducci\u00f3n"},{"location":"10-Actividades/OSC/Instalacion-OSC/Instalacion-OSC/#configuracion","text":"","title":"Configuraci\u00f3n"},{"location":"10-Actividades/OSC/Instalacion-OSC/Instalacion-OSC/#instalacion-en-un-entorno-vitual-de-python-recomendado","text":"Instala python3. sudo apt update sudo apt install python3 Instala es gestor de paquetes de python y el paquete para usar entornos virtuales sudo apt install python3-pip sudo apt-get install python3-venv Crea un entorno virtual python3 -m venv osc Esto crea una carpeta en el directorio actual con el nombre del entorno ( osc/ ). Esta carpeta contiene los directorios para instalar m\u00f3dulos y ejecutables de Python. Activa el entorno source osc/bin/activate (osc) Actualiza pip, el gestor de paquetes de pyton. (osc)pip install -U pip Instala usando pip. (osc)pip install python-openstackclient Prueba la versi\u00f3n instalada. (osc)openstack --version Puedes salir del entorno virtual con. (osc)deactivate $","title":"Instalaci\u00f3n en un entorno vitual de Python (recomendado)"},{"location":"10-Actividades/OSC/Instalacion-OSC/Instalacion-OSC/#instalacion-directamente-sobre-el-sistema-operativo-usando-pip","text":"Instala python3. sudo apt update sudo apt install python3 Instala es gestor de paquetes de python. sudo apt install python3-pip Actualiza pip, el gestor de paquetes de pyton. pip3 install -U pip Instala usando pip. pip3 install python-openstackclient Verifica que se ha instalado correctamente. opestack --version","title":"Instalaci\u00f3n directamente sobre el sistema operativo usando PIP"},{"location":"10-Actividades/OSC/Instalacion-OSC/Instalacion-OSC/#instalacion-directamente-sobre-el-sistema-operativo-usando-apt","text":"Instala el paquete. sudo apt update sudo apt install python3-openstackclient Verifica que se ha instalado correctamente. opestack --version","title":"Instalaci\u00f3n directamente sobre el sistema operativo usando apt"},{"location":"10-Actividades/OSC/Instalacion-OSC/Instalacion-OSC/#configuracion-inicial","text":"Para poder desde OSC atenticarnos en OpenstackLDV con nuestro usuario en un proyecto es necesario dispone de un fichero de credenciales con un conjunto de variables de entorno creadas. Es posible crearlo a mano (https://docs.openstack.org/python-openstackclient/rocky/configuration/index.html#configuration-files ) o descargarlo desde nuestro perfil de Horiz\u00f3n. Vamos a descargarlo y usarlo. Los ejemplos que se muestran a continuaci\u00f3n est\u00e1s basados en la instalaci\u00f3n usando un entorno virtual. Accede a Horizon. Inicia sesi\u00f3n con tu usuario y contrase\u00f1a. Accede la parte superior derecha en el nombre de tu usuario y descarga el archivo OpenStack RC File v3 en tu carpeta personal. Vamos a cargar las variables de entorno del fichero usando el fichero que te has descargado. (osc)$ source /home/<tu_home/2asir.alumno00-openrc.sh Please enter your OpenStack Password for project 2asir.alumno00 as user 2asir.alumno00: Nos pedir\u00e1 la contrase\u00f1a del usuario con el que nos hemos logado. Ahora podemos usar el comando openstack para gestionar los recursos de nuestro proyecto. Ver las instancias (osc)openstack sever list Proyecto activo (osc)openstack project list Mostrar informaci\u00f3n de tu proyecto. (osc) openstack project show 2asir.alumno00 Consular la ayuda (os)$ openstack help","title":"Configuraci\u00f3n inicial"},{"location":"10-Actividades/OSC/Instancias-OSC/Instancias-OSC/","text":"Crear instancias-OSC \u00b6 Introducci\u00f3n \u00b6 En esta actividad, usando OpenStack Client , vamos a: Crear una instancia en tu proyecto a partir de sabor tiny usando la imagen de CirrOS . Conectar la instancia a la red01 creada en la actividad anterior. Usar la consola VNC para acceder la instancia creada y verificar su configuraci\u00f3n IP. Crear otra instancia similar y verificar que hay comunicaci\u00f3n IP entre las instancias. Consulta informaci\u00f3n sobre sabores en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre instancias en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Lanza las instancia con los siguientes par\u00e1metrops - Nombre: cirros01 . Imagen p\u00fablica: CirrOS . Sabor: m1.tiny . Red: red01 . (osc) openstack image list (osc) openstack flavor list (osc) openstack network list (osc) openstack server create --flavor m1.tiny --image LDV-cirros0.5.2-x86_64 --network red01 cirros01 Observa las caracter\u00edsticas de la instancia creada (imagen, sabor, estado, ...). Observa que la direcci\u00f3n IP asignada. (osc)openstack server lits (osc)openstack server show cirros01 Si quieres puedes acceder a Horizon Project, Compute, Instances . Pincha sobre el nombre de la instancia cirros01 y accede a la pesta\u00f1a Console . Abre en nueva pesta\u00f1a la consola usado el enlace Click here to show only console . Inicia sesi\u00f3n con el usuario cirros y la contrase\u00f1a que indica gocubsgo . Consulta la IP de la m\u00e1quina y verifica que tiene comunicaci\u00f3n con la IP 10.33.1.1 (del router01). Haz ping a una direcci\u00f3n a una IP del instituto (por ejemplo 192.168.200.100) y verifica que no hay comunicaci\u00f3n. Usa nslookup para resolver un nombre DNS y verificar que hay comunicaci\u00f3n con Internet ya que el servidor DNS al que se pregunta es el 8.8.8.8. Crea otra instancia similar con el nombre cirros02 y verifica que hay comunicaci\u00f3n IP entre las instancias. Tienes que seguir unos pasos simililares a los anteriores y verificar la IP de la nueva instancia. (osc) openstack server create --flavor m1.tiny --image LDV-cirros0.5.2-x86_64 --network red01 cirros02 (osc)openstack server lits (osc)openstack server show cirros01 Apaga las dos instancias. (osc) openstack server stop cirros01 (osc) openstack server stop cirros02 (osc) openstack server list","title":"A03-Crear instancias-OSC"},{"location":"10-Actividades/OSC/Instancias-OSC/Instancias-OSC/#crear-instancias-osc","text":"","title":"Crear instancias-OSC"},{"location":"10-Actividades/OSC/Instancias-OSC/Instancias-OSC/#introduccion","text":"En esta actividad, usando OpenStack Client , vamos a: Crear una instancia en tu proyecto a partir de sabor tiny usando la imagen de CirrOS . Conectar la instancia a la red01 creada en la actividad anterior. Usar la consola VNC para acceder la instancia creada y verificar su configuraci\u00f3n IP. Crear otra instancia similar y verificar que hay comunicaci\u00f3n IP entre las instancias. Consulta informaci\u00f3n sobre sabores en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre instancias en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/OSC/Instancias-OSC/Instancias-OSC/#configuracion","text":"Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Lanza las instancia con los siguientes par\u00e1metrops - Nombre: cirros01 . Imagen p\u00fablica: CirrOS . Sabor: m1.tiny . Red: red01 . (osc) openstack image list (osc) openstack flavor list (osc) openstack network list (osc) openstack server create --flavor m1.tiny --image LDV-cirros0.5.2-x86_64 --network red01 cirros01 Observa las caracter\u00edsticas de la instancia creada (imagen, sabor, estado, ...). Observa que la direcci\u00f3n IP asignada. (osc)openstack server lits (osc)openstack server show cirros01 Si quieres puedes acceder a Horizon Project, Compute, Instances . Pincha sobre el nombre de la instancia cirros01 y accede a la pesta\u00f1a Console . Abre en nueva pesta\u00f1a la consola usado el enlace Click here to show only console . Inicia sesi\u00f3n con el usuario cirros y la contrase\u00f1a que indica gocubsgo . Consulta la IP de la m\u00e1quina y verifica que tiene comunicaci\u00f3n con la IP 10.33.1.1 (del router01). Haz ping a una direcci\u00f3n a una IP del instituto (por ejemplo 192.168.200.100) y verifica que no hay comunicaci\u00f3n. Usa nslookup para resolver un nombre DNS y verificar que hay comunicaci\u00f3n con Internet ya que el servidor DNS al que se pregunta es el 8.8.8.8. Crea otra instancia similar con el nombre cirros02 y verifica que hay comunicaci\u00f3n IP entre las instancias. Tienes que seguir unos pasos simililares a los anteriores y verificar la IP de la nueva instancia. (osc) openstack server create --flavor m1.tiny --image LDV-cirros0.5.2-x86_64 --network red01 cirros02 (osc)openstack server lits (osc)openstack server show cirros01 Apaga las dos instancias. (osc) openstack server stop cirros01 (osc) openstack server stop cirros02 (osc) openstack server list","title":"Configuraci\u00f3n"},{"location":"10-Actividades/OSC/RedesRouters-OSC/RedesRouters-OSC/","text":"Redes y routers-OSC \u00b6 Introducci\u00f3n \u00b6 En est\u00e1 actividad vamos crear una red con direccionamiento 10.33.1.0/24 ( subred en terminolog\u00eda de OpenStack) y un router que conectar\u00e1 la red creada con la red del instituto (192.168.0.0/16) (red provider en terminolog\u00eda de OpenStackLDV ), usando OpenStack Client . Consulta informaci\u00f3n sobre redes, subredes y routers en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Redes y subredes \u00b6 Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Consulta las redes disponibles y observa que existe la red provider . Esta red representa a la red del instituto y es accesible desde todos los proyectos de OpenStackLDV . No es posible conectar directamente instancias a esta red, si se intenta crear una instancia conectada a est\u00e1 red se provocar\u00e1 un error y la instancia no se crear\u00e1 correctamente. (osc)openstack network list Consulta los routers disponibles y verifica que no existe ning\u00fan router en tu proyecto. (osc)openstack router list Crea una red con el nombre red01 . (osc)openstack network create red01 Consulta la red creada. (osc)openstack network list (osc)openstack network show red01 En la red01 crear una subred con el nombre subred01 , direcci\u00f3n de red 10.33.1.0/24 , gateway 10.33.1.1 , servidor DHCP en la red que sirva en el rango 10.33.1.10, 10.33.1.30 y otorgue 8.8.8.8 como servidor DNS . (osc) openstack subnet create --network red01 --subnet-range 10.33.1.0/24 --gateway 10.33.1.1 --dhcp --allocation-pool start=10.33.1.10,end=10.33.1.30 --dns-nameserver 8.8.8.8 subred01 Consulta la subred creada. (osc)openstack subnet list (osc)openstack subnet show subred01 Routers \u00b6 Crea un nuevo router con el nombre router01 y selecciona provider como red externa. (ocs) openstack router create router01 (ocs) openstack router set router01 --external-gateway provider Consulta el router creado. (ocs) openstack router list (ocs) openstack router show router01 A\u00f1ade un interfaz al router y con\u00e9ctalo a la subred01 con la ip 10.33.1.1 . openstack router add subnet router01 subred01 ## Por decto le asigla la IP 10.33.1.1 Consulta el router creado y observa que se ha creado un nuevo puerto (interfaz) conectado a la subred indicada.","title":"A02-Redes y routers-OSC"},{"location":"10-Actividades/OSC/RedesRouters-OSC/RedesRouters-OSC/#redes-y-routers-osc","text":"","title":"Redes y routers-OSC"},{"location":"10-Actividades/OSC/RedesRouters-OSC/RedesRouters-OSC/#introduccion","text":"En est\u00e1 actividad vamos crear una red con direccionamiento 10.33.1.0/24 ( subred en terminolog\u00eda de OpenStack) y un router que conectar\u00e1 la red creada con la red del instituto (192.168.0.0/16) (red provider en terminolog\u00eda de OpenStackLDV ), usando OpenStack Client . Consulta informaci\u00f3n sobre redes, subredes y routers en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/OSC/RedesRouters-OSC/RedesRouters-OSC/#configuracion","text":"","title":"Configuraci\u00f3n"},{"location":"10-Actividades/OSC/RedesRouters-OSC/RedesRouters-OSC/#redes-y-subredes","text":"Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Consulta las redes disponibles y observa que existe la red provider . Esta red representa a la red del instituto y es accesible desde todos los proyectos de OpenStackLDV . No es posible conectar directamente instancias a esta red, si se intenta crear una instancia conectada a est\u00e1 red se provocar\u00e1 un error y la instancia no se crear\u00e1 correctamente. (osc)openstack network list Consulta los routers disponibles y verifica que no existe ning\u00fan router en tu proyecto. (osc)openstack router list Crea una red con el nombre red01 . (osc)openstack network create red01 Consulta la red creada. (osc)openstack network list (osc)openstack network show red01 En la red01 crear una subred con el nombre subred01 , direcci\u00f3n de red 10.33.1.0/24 , gateway 10.33.1.1 , servidor DHCP en la red que sirva en el rango 10.33.1.10, 10.33.1.30 y otorgue 8.8.8.8 como servidor DNS . (osc) openstack subnet create --network red01 --subnet-range 10.33.1.0/24 --gateway 10.33.1.1 --dhcp --allocation-pool start=10.33.1.10,end=10.33.1.30 --dns-nameserver 8.8.8.8 subred01 Consulta la subred creada. (osc)openstack subnet list (osc)openstack subnet show subred01","title":"Redes y subredes"},{"location":"10-Actividades/OSC/RedesRouters-OSC/RedesRouters-OSC/#routers","text":"Crea un nuevo router con el nombre router01 y selecciona provider como red externa. (ocs) openstack router create router01 (ocs) openstack router set router01 --external-gateway provider Consulta el router creado. (ocs) openstack router list (ocs) openstack router show router01 A\u00f1ade un interfaz al router y con\u00e9ctalo a la subred01 con la ip 10.33.1.1 . openstack router add subnet router01 subred01 ## Por decto le asigla la IP 10.33.1.1 Consulta el router creado y observa que se ha creado un nuevo puerto (interfaz) conectado a la subred indicada.","title":"Routers"},{"location":"10-Actividades/OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/","text":"Redimensi\u00f3n, reconstruci\u00f3n y archivado de instancias-OSC \u00b6 Introducci\u00f3n \u00b6 En esta actividad, usando OpenStack Client , vamos a: Redimensionar una instancia existente cambiando su sabor. Reconstruir una instancia existente. Archivar una instancia para liberar sus recursos. Consulta informaci\u00f3n sobre redimensionar en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre reconstruir en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre Archivar en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Redimensionar una instancia \u00b6 Redimensiona la instancia cirros02 usando como nuevo sabor m1.small . (osc) openstack server resize --flavor m1.small cirros02 En este momento OpenStack esta verificando si es posible llevarlo a cabo. Si es posible la instancia pasa al estado VERIFY_RESIZE y tenemos que Confirmar la redimensi\u00f3n o Revertir la redimensi\u00f3n. (osc) openstack server list (osc) openstack server show cirros02 Espera a que el valor OS-EXT-STS:vm_state tenga el valor resized . Confirma la redimensi\u00f3n y observa como el sabor ha cambiado. (osc) openstack server resize confirm cirros02 (osc) openstack server list (osc) openstack server show cirros02 Reconstruir una instancia \u00b6 Reconstruye la instancia cirros02 usandp como nueva imagen LDV-debian11 . (osc)openstack image list (osc)openstack server rebuild --image LDV-debian11-x86_64 cirros02 (osc)openstack server list Observa como cambia la imagen de la instancia. Cambia el nombre de la instancia a debian01 . (osc)openstack server set --name debian01 cirros02 (osc)openstack server list Archivar una instancia \u00b6 Archiva la instancia debian01 . (osc)openstack server shelve debian01 (osc)openstack server list (osc)openstack server show debian01 Espera a que termine el proceso y la instancia pase a estado SHELVED_OFFLOADED . Onserva que se ha creado una snapshot de la instancia. (osc)openstack image list Desarchiva la instancia. (osc)openstack server unshelve debian01 Verifica el estado de la instancia es de nuevo Active y que se ha eliminado la snapshot . (osc)openstack server list (osc)openstack server show debian01 (osc)openstack image list","title":"A08-Redimensi\u00f3n, reconstruci\u00f3n y archivado de instancias-OSC"},{"location":"10-Actividades/OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/#redimension-reconstrucion-y-archivado-de-instancias-osc","text":"","title":"Redimensi\u00f3n, reconstruci\u00f3n y archivado de instancias-OSC"},{"location":"10-Actividades/OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/#introduccion","text":"En esta actividad, usando OpenStack Client , vamos a: Redimensionar una instancia existente cambiando su sabor. Reconstruir una instancia existente. Archivar una instancia para liberar sus recursos. Consulta informaci\u00f3n sobre redimensionar en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre reconstruir en la secci\u00f3n Conceptos . Consulta informaci\u00f3n sobre Archivar en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/#configuracion","text":"Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) .","title":"Configuraci\u00f3n"},{"location":"10-Actividades/OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/#redimensionar-una-instancia","text":"Redimensiona la instancia cirros02 usando como nuevo sabor m1.small . (osc) openstack server resize --flavor m1.small cirros02 En este momento OpenStack esta verificando si es posible llevarlo a cabo. Si es posible la instancia pasa al estado VERIFY_RESIZE y tenemos que Confirmar la redimensi\u00f3n o Revertir la redimensi\u00f3n. (osc) openstack server list (osc) openstack server show cirros02 Espera a que el valor OS-EXT-STS:vm_state tenga el valor resized . Confirma la redimensi\u00f3n y observa como el sabor ha cambiado. (osc) openstack server resize confirm cirros02 (osc) openstack server list (osc) openstack server show cirros02","title":"Redimensionar una instancia"},{"location":"10-Actividades/OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/#reconstruir-una-instancia","text":"Reconstruye la instancia cirros02 usandp como nueva imagen LDV-debian11 . (osc)openstack image list (osc)openstack server rebuild --image LDV-debian11-x86_64 cirros02 (osc)openstack server list Observa como cambia la imagen de la instancia. Cambia el nombre de la instancia a debian01 . (osc)openstack server set --name debian01 cirros02 (osc)openstack server list","title":"Reconstruir una instancia"},{"location":"10-Actividades/OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/Redimensi%C3%B3nReconstruci%C3%B3nArchivado-OSC/#archivar-una-instancia","text":"Archiva la instancia debian01 . (osc)openstack server shelve debian01 (osc)openstack server list (osc)openstack server show debian01 Espera a que termine el proceso y la instancia pase a estado SHELVED_OFFLOADED . Onserva que se ha creado una snapshot de la instancia. (osc)openstack image list Desarchiva la instancia. (osc)openstack server unshelve debian01 Verifica el estado de la instancia es de nuevo Active y que se ha eliminado la snapshot . (osc)openstack server list (osc)openstack server show debian01 (osc)openstack image list","title":"Archivar una instancia"},{"location":"10-Actividades/OSC/ServidorWeb-OSC/ServidorWeb-OSC/","text":"Servidor Web-OSC \u00b6 En esta actividad debes, usando OpenStack Client , realizar una configuraci\u00f3n donde se integren las configuraciones de las actividades anteriores, Borra todas las configuraciones realizadas en las explicaciones de clase y en las pr\u00e1cticas anteriores , aseg\u00farate de haber hecho la actividad Borrado de componentes . Verifica la topolog\u00eda de red del proyecto. Crea una nueva red IP ( red-asirXX ) con el direccionamiento 172.16.XX.0/24 . Gateway : 172.16.XX.1 Servidor DHCP que asigne la siguiente configuraci\u00f3n. Rango 172.16.XX.10, 172.16.XX.30 . DNS: 8.8.8.8 . Crea un nuevo Router ( router-asirXX ) que conecte la red creara con la red Provider (red del instituto). Crea un nuevo par de claves SSH. Crea una nueva instancia (con el nombre panoramixXX ) a partir de la imagen del sistema operativo debian11 con el sabor m1.small . Asegurare de que se se conecta a la red que has creado y que se inyecta la clave p\u00fablica SSH que has creado. Asocia una IP flotante a la instancia. Crear un nuevo grupo de seguridad con el nombre gruposeguridadXX . Crea las reglas necesarias para permitir el tr\u00e1fico IMCP y el tr\u00e1fico SSH (22/TCP) de entrada a las instancias que pertenezcan al grupo. Sobre la instancia que has creado, quita el grupo de seguridad default y as\u00edgnale el nuevo grupo de seguridad. Desde tu equipo haz ping la ip flotante asignada a la instancia y establece una conexi\u00f3n por SSH. Verifica que hay conexi\u00f3n desde la instancia con Internet y que resuelve nombres DNS. Instala el servidor apache en la instancia. Realiza las configuraciones adecuadas para que puedes conectarte al servidor Apache desde el navegador de tu equipo.","title":"A11-Servidor Web-OSC"},{"location":"10-Actividades/OSC/ServidorWeb-OSC/ServidorWeb-OSC/#servidor-web-osc","text":"En esta actividad debes, usando OpenStack Client , realizar una configuraci\u00f3n donde se integren las configuraciones de las actividades anteriores, Borra todas las configuraciones realizadas en las explicaciones de clase y en las pr\u00e1cticas anteriores , aseg\u00farate de haber hecho la actividad Borrado de componentes . Verifica la topolog\u00eda de red del proyecto. Crea una nueva red IP ( red-asirXX ) con el direccionamiento 172.16.XX.0/24 . Gateway : 172.16.XX.1 Servidor DHCP que asigne la siguiente configuraci\u00f3n. Rango 172.16.XX.10, 172.16.XX.30 . DNS: 8.8.8.8 . Crea un nuevo Router ( router-asirXX ) que conecte la red creara con la red Provider (red del instituto). Crea un nuevo par de claves SSH. Crea una nueva instancia (con el nombre panoramixXX ) a partir de la imagen del sistema operativo debian11 con el sabor m1.small . Asegurare de que se se conecta a la red que has creado y que se inyecta la clave p\u00fablica SSH que has creado. Asocia una IP flotante a la instancia. Crear un nuevo grupo de seguridad con el nombre gruposeguridadXX . Crea las reglas necesarias para permitir el tr\u00e1fico IMCP y el tr\u00e1fico SSH (22/TCP) de entrada a las instancias que pertenezcan al grupo. Sobre la instancia que has creado, quita el grupo de seguridad default y as\u00edgnale el nuevo grupo de seguridad. Desde tu equipo haz ping la ip flotante asignada a la instancia y establece una conexi\u00f3n por SSH. Verifica que hay conexi\u00f3n desde la instancia con Internet y que resuelve nombres DNS. Instala el servidor apache en la instancia. Realiza las configuraciones adecuadas para que puedes conectarte al servidor Apache desde el navegador de tu equipo.","title":"Servidor Web-OSC"},{"location":"10-Actividades/OSC/SnapshotsDeInstancias-OSC/SnapshotsDeInstancias-OSC/","text":"Snapshots de instancias-OSC \u00b6 Introducci\u00f3n \u00b6 En esta actividad, usando OpenStack Client , vamos a: Acceder a una de las instancias existentes, crear un usuario nuevo y un fichero en el directorio home del nuevo usuario. Crear un snapshot de la instancia. Crea otra instancia similar a partir del snapshot. Acceder a la instancia creada y verificar que existen el fichero y el usuario. Consulta informaci\u00f3n sobre Snapshots en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Consulta las instancia disponibles. (osc)openstack server list Inicia la instancia cirros03 . (osc)openstack server start cirros03 Inicia sesi\u00f3n en la m\u00e1quina con el usuario cirros03 a trav\u00e9s de la consola o mediante una conexi\u00f3n SSH. Crea el usuario curso. sudo adduser fp Inicia sesi\u00f3n con el usuario fp. su - fp Crea el fichero hola.txt . touch curso.txt Crea una Snapshot de la instancia cirros03 con el nombre cirros03-sn1 . (osc)openstack server image create --name cirros03-sn1 cirros03 Consulta las im\u00e1genes disponibles y observa que la snapshot se ha almacenado como una imagen con visibilibiad Private (significa que solo es visible en tu proyecto). (osc)openstack image list Crea otra instancia con el nombre cirros04 a partir de la snapshot creada. (osc)openstack server create --flavor m1.tiny --image cirros03-sn1 --network red01 --key-name ssh01 cirros04 (osc)openstack server list (osc) Inicia sesi\u00f3n en cirros04 y verifica que existen el archivo y el usuario creados. Apaga la instancias cirros03 y cirros04 (osc)openstack server stop cirros03 (osc)openstack server stop cirros04","title":"A07-Snapshots de instancias-OSC"},{"location":"10-Actividades/OSC/SnapshotsDeInstancias-OSC/SnapshotsDeInstancias-OSC/#snapshots-de-instancias-osc","text":"","title":"Snapshots de instancias-OSC"},{"location":"10-Actividades/OSC/SnapshotsDeInstancias-OSC/SnapshotsDeInstancias-OSC/#introduccion","text":"En esta actividad, usando OpenStack Client , vamos a: Acceder a una de las instancias existentes, crear un usuario nuevo y un fichero en el directorio home del nuevo usuario. Crear un snapshot de la instancia. Crea otra instancia similar a partir del snapshot. Acceder a la instancia creada y verificar que existen el fichero y el usuario. Consulta informaci\u00f3n sobre Snapshots en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/OSC/SnapshotsDeInstancias-OSC/SnapshotsDeInstancias-OSC/#configuracion","text":"Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Consulta las instancia disponibles. (osc)openstack server list Inicia la instancia cirros03 . (osc)openstack server start cirros03 Inicia sesi\u00f3n en la m\u00e1quina con el usuario cirros03 a trav\u00e9s de la consola o mediante una conexi\u00f3n SSH. Crea el usuario curso. sudo adduser fp Inicia sesi\u00f3n con el usuario fp. su - fp Crea el fichero hola.txt . touch curso.txt Crea una Snapshot de la instancia cirros03 con el nombre cirros03-sn1 . (osc)openstack server image create --name cirros03-sn1 cirros03 Consulta las im\u00e1genes disponibles y observa que la snapshot se ha almacenado como una imagen con visibilibiad Private (significa que solo es visible en tu proyecto). (osc)openstack image list Crea otra instancia con el nombre cirros04 a partir de la snapshot creada. (osc)openstack server create --flavor m1.tiny --image cirros03-sn1 --network red01 --key-name ssh01 cirros04 (osc)openstack server list (osc) Inicia sesi\u00f3n en cirros04 y verifica que existen el archivo y el usuario creados. Apaga la instancias cirros03 y cirros04 (osc)openstack server stop cirros03 (osc)openstack server stop cirros04","title":"Configuraci\u00f3n"},{"location":"10-Actividades/OSC/Vol%C3%BAmenes-OSC/Vol%C3%BAmenes-OSC/","text":"Vol\u00famenes-OSC \u00b6 Introducci\u00f3n \u00b6 En esta actividad, usando OpenStack Client , vamos a: Crear un volumen de 1GB. Asociar el volumen a una instancia que ya est\u00e1 creada. Iniciar sesi\u00f3n en la instancia, crear una partici\u00f3n, format\u00e9arla, m\u00f3ntarla y creat un par de ficheros. Desasociar el volumen de la instancia y asociarlo a otra instancia. Consulta informaci\u00f3n sobre almacenamiento y vol\u00famenes en la secci\u00f3n Conceptos . Configuraci\u00f3n \u00b6 Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Consuta los volumenes disponibles. (osc)openstack volume list Crea un volumen vac\u00edo con el nombre vol1 de 1GB . (osc)openstack volume create --size 1 vol1 (osc)openstack volume list Asocia el volumen a la instancia cirros03 . (osc)openstack server add volume --device /dev/sdb cirros03 vol1 Observa el nombre de dispositivo con el que se ha a\u00f1adido el volumen a la m\u00e1quina (en este caso /dev/vdb). (osc)openstack server list (osc)openstack volume list Abre un terminal y establece una conexi\u00f3n SSH con la instancia cirros03 . Crea una partici\u00f3n, format\u00e9ala, m\u00f3ntala y crea un par de ficheros. sudo fdisk -l sudo fdisk /dev/vdb n p 1 Valor por defecto (2048) Valor por defecto w sudo mkfs.ext4 /dev/vdb1 sudo mkdir /mnt/data sudo mount /dev/vdb1 /mnt/data cd /mnt/data sudo touch hola.txt sudo touch adios.txt Desasocia el volumen de la instancia cirros03 . (osc)openstack server remove volume cirros03 vol1 (osc)openstack server list (osc)openstack volume list Asocia el volumen a la instancia cirros04 . (osc)openstack server add volume --device /dev/sdb cirros04 vol1 (osc)openstack server list (osc)openstack volume list Inicia sesi\u00f3n en cirros04 , monta el volumen y verifica que los dos ficheros est\u00e1n creados. bash sudo mkdir /mnt/data sudo mount /dev/vdb1 /mnt/data ls Apaga las instancias cirros03 y cirros04 . (osc)openstack server stop cirros03 (osc)openstack server stop cirros04","title":"A09-Vol\u00famenes-OSC"},{"location":"10-Actividades/OSC/Vol%C3%BAmenes-OSC/Vol%C3%BAmenes-OSC/#volumenes-osc","text":"","title":"Vol\u00famenes-OSC"},{"location":"10-Actividades/OSC/Vol%C3%BAmenes-OSC/Vol%C3%BAmenes-OSC/#introduccion","text":"En esta actividad, usando OpenStack Client , vamos a: Crear un volumen de 1GB. Asociar el volumen a una instancia que ya est\u00e1 creada. Iniciar sesi\u00f3n en la instancia, crear una partici\u00f3n, format\u00e9arla, m\u00f3ntarla y creat un par de ficheros. Desasociar el volumen de la instancia y asociarlo a otra instancia. Consulta informaci\u00f3n sobre almacenamiento y vol\u00famenes en la secci\u00f3n Conceptos .","title":"Introducci\u00f3n"},{"location":"10-Actividades/OSC/Vol%C3%BAmenes-OSC/Vol%C3%BAmenes-OSC/#configuracion","text":"Configura tu entorno para poder acceder a tu proyecto usando OpenStack Client tal y como se explica en la actividad Instalaci\u00f3n y configuraci\u00f3n inicial de OpenStack Client (OSC) . Consuta los volumenes disponibles. (osc)openstack volume list Crea un volumen vac\u00edo con el nombre vol1 de 1GB . (osc)openstack volume create --size 1 vol1 (osc)openstack volume list Asocia el volumen a la instancia cirros03 . (osc)openstack server add volume --device /dev/sdb cirros03 vol1 Observa el nombre de dispositivo con el que se ha a\u00f1adido el volumen a la m\u00e1quina (en este caso /dev/vdb). (osc)openstack server list (osc)openstack volume list Abre un terminal y establece una conexi\u00f3n SSH con la instancia cirros03 . Crea una partici\u00f3n, format\u00e9ala, m\u00f3ntala y crea un par de ficheros. sudo fdisk -l sudo fdisk /dev/vdb n p 1 Valor por defecto (2048) Valor por defecto w sudo mkfs.ext4 /dev/vdb1 sudo mkdir /mnt/data sudo mount /dev/vdb1 /mnt/data cd /mnt/data sudo touch hola.txt sudo touch adios.txt Desasocia el volumen de la instancia cirros03 . (osc)openstack server remove volume cirros03 vol1 (osc)openstack server list (osc)openstack volume list Asocia el volumen a la instancia cirros04 . (osc)openstack server add volume --device /dev/sdb cirros04 vol1 (osc)openstack server list (osc)openstack volume list Inicia sesi\u00f3n en cirros04 , monta el volumen y verifica que los dos ficheros est\u00e1n creados. bash sudo mkdir /mnt/data sudo mount /dev/vdb1 /mnt/data ls Apaga las instancias cirros03 y cirros04 . (osc)openstack server stop cirros03 (osc)openstack server stop cirros04","title":"Configuraci\u00f3n"}]}